(this.webpackJsonpsightme=this.webpackJsonpsightme||[]).push([[0],{119:function(e,t,n){e.exports=n(150)},124:function(e,t,n){},125:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),l=n.n(r),c=(n(124),n(125),n(11)),o=n(151),u=function(e){var t=e.standard,n=e.colored,a=e.variant,r=e.component;return i.a.createElement(o.a,{component:r||"div",variant:a||"body1"},i.a.createElement(o.a,{component:"span",variant:a||"body1"},t),i.a.createElement(o.a,{component:"span",color:"secondary",variant:a||"body1"},n))},s=n(206),d=n(189),m=Object(d.a)((function(){return{hugeVerticalPadding:{paddingTop:"25vh",paddingBottom:"15vh",paddingLeft:"1em",paddingRight:"1em",textAlign:"center"},hugeVerticalPaddingNoHorizontal:{paddingTop:"25vh",paddingBottom:"15vh",textAlign:"center"}}})),f=function(e){var t=e.children,n=e.noHorizontalPadding,a=m();return i.a.createElement(s.a,{className:n?a.hugeVerticalPaddingNoHorizontal:a.hugeVerticalPadding},t)},g=function(e){var t=e.children,n=e.margin,a=void 0===n?"0em":n;return i.a.createElement(o.a,{variant:"body2",color:"textSecondary",style:{marginLeft:a,marginRight:a}},t)},h=function(e){var t=e.factor,n=2*(void 0===t?1:t);return i.a.createElement("p",{style:{marginTop:n+"em"}})},p=n(190),v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout((function(){return c.navigate.apply(void 0,t)}),250)},b=function(e){return i.a.createElement(p.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),v(e.href)}}),e.children)},E=function(e){return i.a.createElement(s.a,Object.assign({},e,{style:{textAlign:"center"}}),e.children)},j=n(14),y=n(17),O=n(31),k=n(96),S=n.n(k),w=n(70),x={},B=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.c)(),N={key:"active-game",storage:S.a,whitelist:["active-game"]},z=Object(O.d)(Object(w.a)(N,(function(e){return e})),B),T=Object(w.b)(z);z.injectReducer=function(e,t){x[e]=t,z.replaceReducer(Object(w.a)(N,Object(O.b)(x)))};var A,D=function(e){return z.getState()[e]},C=function(e,t){var n=D(e);return z.subscribe((function(){n!==D(e)&&(n=D(e),t(n))}))},L=function(e,t){return"".concat(e,"/").concat(t)},P=n(18),M=n(27),F=n.n(M),R=L("active-game","set-active-game"),I=L("active-game","leave-active-game"),W=L("active-game","set-initial-distance"),H=(A={},Object(y.a)(A,R,(function(e,t){return Object(P.a)(e,(function(e){return t}))})),Object(y.a)(A,I,(function(e){return Object(P.a)(e,(function(e){delete e.name,delete e.expiresAt,delete e.lat,delete e.lng,delete e.initialDistance,delete e.assist}))})),Object(y.a)(A,W,(function(e,t){return Object(P.a)(e,(function(e){e.initialDistance=t}))})),A),V=function(){z.dispatch({type:I,payload:{}})};z.injectReducer("active-game",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return H[n]?H[n](e,a):e}));var _,q=function(){var e=Object(a.useState)(D("active-game")),t=Object(j.a)(e,2),n=t[0],i=t[1];if(Object(a.useLayoutEffect)((function(){return C("active-game",i)}),[i]),!n||!F()().isAfter(n.expiresAt))return(null===n||void 0===n?void 0:n.name)?n:void 0;V()},J=function(e){return i.a.createElement(s.a,Object.assign({},e,{style:{marginLeft:"24px",marginRight:"24px"}}),e.children)},K=n(48),U=n.n(K),Z=Object(d.a)((function(){return{fullHeightWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100%"}}})),G=function(e){var t=Z();return i.a.createElement(s.a,Object.assign({},e,{className:U()(t.fullHeightWrapper,e.className)}),e.children)},X=Object(d.a)((function(){return{fullHeightContent:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"100%"}}})),Y=function(e){var t=X();return i.a.createElement(s.a,{className:t.fullHeightContent},i.a.createElement(J,e,e.children))},$=Object(d.a)((function(){return{about:{marginBottom:"8px"}}})),Q=function(){Object(c.useTitle)("SightMe");var e=q(),t=$();return i.a.createElement(G,null,i.a.createElement(Y,null,i.a.createElement(f,{noHorizontalPadding:!0},i.a.createElement(u,{variant:"h2",component:"h1",standard:"Sight",colored:"Me"})),i.a.createElement(E,null,i.a.createElement(b,{href:"/host"},"Spiel erstellen"),i.a.createElement(h,null),e&&i.a.createElement(b,{href:"/play"},e.name,"'s Spiel"),!e&&i.a.createElement(g,{margin:"1em"},"Du nimmst aktuell an keinem aktiven Spiel teil. Du erh\xe4ltst vom Spielleiter einen Link zum Beitreten."))),i.a.createElement(J,{className:t.about},i.a.createElement(E,null,i.a.createElement(b,{variant:"text",href:"/about"},"\xdcber die App"))))},ee=n(192),te=n(193),ne=n(191),ae=function(e){return i.a.createElement(ne.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),v(e.href)}}),e.children)},ie=n(194),re=Object(d.a)((function(e){return{offsetFromTop:{paddingTop:"3vh"},offset:e.mixins.toolbar,morePadding:{paddingLeft:"21px",paddingRight:"21px"}}})),le=function(e){var t=e.href,n=e.onClick,r=re();return t&&(n=void 0),t||n||(n=function(){return window.history.back()}),i.a.createElement(a.Fragment,null,i.a.createElement(ee.a,{position:"fixed",className:r.offsetFromTop,color:"transparent",elevation:0},i.a.createElement(te.a,{className:r.morePadding},t&&i.a.createElement(ae,{href:t,edge:"start","aria-label":"back"},i.a.createElement(ie.a,null)),n&&i.a.createElement(ne.a,{onClick:n,edge:"start","aria-label":"back"},i.a.createElement(ie.a,null)))),i.a.createElement("div",{className:U()(r.offset,r.offsetFromTop)}))},ce=Object(d.a)((function(){return{titlePadding:{paddingTop:"0.5em",paddingBottom:"3em"}}})),oe=function(e){var t=e.standard,n=e.colored,a=ce();return n?i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(u,{variant:"h6",component:"h1",standard:t,colored:n})):i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(o.a,{variant:"h6",component:"h1"},t))},ue=n(212),se=n(213),de=n(195),me=n(214),fe=function(e){var t,n,r=e.location,l=[null===r||void 0===r||null===(t=r.coords)||void 0===t?void 0:t.latitude,null===r||void 0===r||null===(n=r.coords)||void 0===n?void 0:n.longitude],c=Object(a.useState)(14),u=Object(j.a)(c,2),s=u[0],d=u[1];return i.a.createElement(a.Fragment,null,r&&i.a.createElement(ue.a,{center:l,zoom:s,style:{height:"30vmax"},onViewportChanged:function(e){d(e.zoom)}},i.a.createElement(se.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.a.createElement(de.a,{position:l},i.a.createElement(me.a,null,"Deine Position"))),!r&&i.a.createElement("div",{style:{width:"100%",height:"30vmax"}},i.a.createElement(E,null,i.a.createElement(o.a,{variant:"body2"},"GPS-Position ist unbekannt. Bitte erlaube den Standort f\xfcr diese App"))))},ge=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=void 0;return navigator.geolocation&&(e=navigator.geolocation.watchPosition((function(e){i(e)}),(function(){}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})),function(){e&&navigator.geolocation.clearWatch(e)}}),[]),n},he=n(66),pe=L("hosting","generate-link"),ve=L("hosting","set-username"),be=L("hosting","set-create-date"),Ee=L("hosting","set-lat-lng"),je=L("hosting","set-enable-tendency"),ye=L("hosting","set-enable-dynamic-distance"),Oe=(_={},Object(y.a)(_,pe,(function(e){return Object(P.a)(e,(function(t){var n={name:e.name,expiresAt:e.expiresAt,lat:e.latitude,lng:e.longitude,assist:{tendency:e["assist-tendency"],dyndist:e["assist-dyndist"]}},a=he.Base64.encodeURI(JSON.stringify(n));t.link=window.origin+"/sightme/join/"+a}))})),Object(y.a)(_,ve,(function(e,t){return Object(P.a)(e,(function(e){e.name=t}))})),Object(y.a)(_,be,(function(e,t){return Object(P.a)(e,(function(e){e.expiresAt=t}))})),Object(y.a)(_,Ee,(function(e,t){var n=t.lat,a=t.lng;return Object(P.a)(e,(function(e){e.latitude=n,e.longitude=a}))})),Object(y.a)(_,je,(function(e,t){return Object(P.a)(e,(function(e){e["assist-tendency"]=t}))})),Object(y.a)(_,ye,(function(e,t){return Object(P.a)(e,(function(e){e["assist-dyndist"]=t}))})),_),ke={"assist-tendency":!0,"assist-dyndist":!1};z.injectReducer("hosting",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Oe[n]?Oe[n](e,a):e}));var Se,we=function(){var e=Object(a.useState)(D("hosting")),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){return C("hosting",i)}),[i]),n},xe=Object(d.a)((function(){return{titlePadding:{paddingTop:"0.5em",paddingBottom:"0.5em"}}})),Be=function(e){var t=e.standard,n=e.colored,a=xe();return n?i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(u,{variant:"subtitle2",component:"h1",standard:t,colored:n})):i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(o.a,{variant:"subtitle2",component:"h1"},t))},Ne=function(){Object(c.useTitle)("Spiel hosten | SightMe");var e=ge();return i.a.createElement(a.Fragment,null,i.a.createElement(le,{href:"/"}),i.a.createElement(J,null,i.a.createElement(oe,{standard:"Ein Spiel hosten"}),i.a.createElement(Be,{standard:"Dein Standort"}),i.a.createElement(fe,{location:e}),i.a.createElement(h,null),i.a.createElement(E,null,i.a.createElement(p.a,{disabled:!e,onClick:function(){var t,n,a;t=e.coords.latitude,n=e.coords.longitude,z.dispatch({type:Ee,payload:{lat:t,lng:n}}),a=F()().add(1,"days").utc().format(),z.dispatch({type:be,payload:a}),v("/host/enter-name")}},"Spiel hier erstellen"),!e&&i.a.createElement(a.Fragment,null,i.a.createElement(h,null),i.a.createElement(g,null,"Bitte erlaube den Standort f\xfcr diese App")))))},ze=Object(d.a)((function(){return{buttonBox:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginBottom:"8px","& > :not(:first-child)":{marginTop:"6px"}}}})),Te=function(e){var t=ze();return i.a.createElement(J,{className:U()(t.buttonBox,e.className)},e.children)},Ae=function(e){var t,n,r,l,u,s,d=e.gameBase64,m=void 0;try{m=JSON.parse(he.Base64.decode(d))}catch(y){}Object(c.useTitle)("".concat(null===(t=m)||void 0===t?void 0:t.name," beitreten | SightMe"));var f=F()(null===(n=m)||void 0===n?void 0:n.expiresAt).diff(F()(),"hours"),j=F()().isBefore(F()(null===(r=m)||void 0===r?void 0:r.expiresAt));return i.a.createElement(G,null,i.a.createElement(le,{href:"/"}),i.a.createElement(Y,null,i.a.createElement(oe,{standard:"Einem Spiel beitreten"}),i.a.createElement(h,{factor:2}),i.a.createElement(E,null,m&&i.a.createElement(a.Fragment,null,i.a.createElement(o.a,{variant:"h4"},"Host: ",null===(l=m)||void 0===l?void 0:l.name),i.a.createElement("br",null),j&&i.a.createElement(o.a,{variant:"body1"},"g\xfcltig f\xfcr die n\xe4chsten ",f," Stunde(n)"),!j&&i.a.createElement(o.a,{variant:"body1"},"Das Spiel ist bereit abgelaufen, du kannst ihm nicht mehr beitreten."),(null===(u=m)||void 0===u||null===(s=u.assist)||void 0===s?void 0:s.dyndist)&&i.a.createElement(a.Fragment,null,i.a.createElement(h,{factor:2}),i.a.createElement(g,null,"Spiel mit dynamischer Distanz \u2014 du sieht nur den blinkenden Kreis, aber nicht die tats\xe4cheliche Distanz zum Host"))),!m&&i.a.createElement(o.a,{variant:"h5"},"Im Link befindet sich kein g\xfcltiges Spiel. Bitte deinen Spielleiter, dir den Link noch einmal zu schicken."))),i.a.createElement(Te,null,i.a.createElement(p.a,{onClick:function(){var e;!function(e){z.dispatch({type:R,payload:e})}(m),(null===(e=m.assist)||void 0===e?void 0:e.dyndist)?v("/join/".concat(d,"/confirm-position")):v("/play")},disabled:!m||!j},"Spiel beitreten"),i.a.createElement(b,{href:"/",variant:"text",color:"inherit"},"Abbrechen")))},De=n(209),Ce=n(196),Le=n(197),Pe=function(e){var t=e.open,n=e.text,a=e.onYes,r=e.onNo;return i.a.createElement(De.a,{open:t,onClose:r},i.a.createElement(Ce.a,null,i.a.createElement(E,null,i.a.createElement(o.a,{variant:"body1"},n))),i.a.createElement(Le.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"baseline",paddingBottom:"16px"}},i.a.createElement(p.a,{variant:"text",color:"inherit",onClick:r},"Nein"),i.a.createElement(p.a,{onClick:a},"Ja")))},Me=n(44),Fe=L("dialogs","show"),Re=L("dialogs","hide"),Ie=L("dialogs","setInfo"),We=(Se={},Object(y.a)(Se,Fe,(function(e,t){return Object(P.a)(e,(function(n){n[t]=Object(Me.a)(Object(Me.a)({},e[t]),{},{show:!0})}))})),Object(y.a)(Se,Re,(function(e,t){return Object(P.a)(e,(function(n){n[t]=Object(Me.a)(Object(Me.a)({},e[t]),{},{show:!1})}))})),Object(y.a)(Se,Ie,(function(e,t){var n=t.dialogName,a=t.info;return Object(P.a)(e,(function(t){var i;t[n]=Object(Me.a)(Object(Me.a)({},a),{},{show:null===(i=e[n])||void 0===i?void 0:i.show})}))})),Se),He=function(e){var t;(null===(t=D("dialogs")[e])||void 0===t?void 0:t.show)&&z.dispatch({type:Re,payload:e})};z.injectReducer("dialogs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return We[n]?We[n](e,a):e}));var Ve,_e=n(98),qe=n.n(_e),Je=.15,Ke=5,Ue=4e3,Ze=Math.log(Je/Ke)/Ue,Ge=function(){var e=ge(),t=q();if(e&&t){var n,a=qe()({latitude:e.coords.latitude,longitude:e.coords.longitude},{latitude:t.lat,longitude:t.lng},1),i=(null===(n=t.assist)||void 0===n?void 0:n.dyndist)&&t.initialDistance?Math.log(Je/Ke)/(1.3*t.initialDistance):Ze,r=Ke*Math.pow(Math.E,i*a);return{distance:a,frequency:r>.05?r:.05}}return{distance:-1,frequency:-1}},Xe=n(198),Ye=n(199),$e=Object(d.a)((function(){return{alignInLine:{verticalAlign:"middle"}}})),Qe=function(e){var t,n=e.game,a=e.tendency,r=$e();if(null===n||void 0===n||null===(t=n.assist)||void 0===t?void 0:t.tendency){if("up"===a)return i.a.createElement(Xe.a,{className:r.alignInLine});if("down"===a)return i.a.createElement(Ye.a,{className:r.alignInLine})}return""},et=function(e){var t,n=e.game,a=e.distance;return(null===(t=n.assist)||void 0===t?void 0:t.dyndist)?"":"Distanz "+(a<50?"< 50 m":a<500?"< 500 m":"~ "+.5*Math.round(.002*a)+" km")+" "},tt=function(e){var t=e.enable,n=e.frequency,a=e.handleIteration;return i.a.createElement(s.a,{style:{width:"100%",paddingTop:"100%",position:"relative"}},i.a.createElement(s.a,{style:{position:"absolute",top:0,left:0,bottom:0,right:0,animation:t?"ripple ".concat(1/n,"s ease-out infinite"):"none"},className:"ripple",onAnimationIteration:a}))},nt=function(e){return q()?e.children:i.a.createElement(J,null,i.a.createElement(h,{factor:2.5}),i.a.createElement(E,null,i.a.createElement(o.a,{variant:"h5"},"Es wurde kein aktives Spiel gefunden. Bitte trete erst einem Spiel bei.")))},at=Object(d.a)((function(){return{buttonWrapper:{position:"fixed",bottom:0,width:"100%",marginBottom:"24px"}}})),it=function(){var e=q(),t=Ge(),n=t.distance,r=t.frequency,l=at(),u=function(e){var t=Object(a.useState)(D("dialogs")),n=Object(j.a)(t,2),i=n[0],r=n[1];return Object(a.useLayoutEffect)((function(){return C("dialogs",r)}),[r]),i[e]}("confirm-leave-dialog");Object(c.useTitle)("Finde ".concat(null===e||void 0===e?void 0:e.name," | SightMe"));var s=Object(a.useState)(!0),d=Object(j.a)(s,2),m=d[0],f=d[1],g=Object(a.useState)(.8),v=Object(j.a)(g,2),b=v[0],y=v[1],O=Object(a.useState)(2500),k=Object(j.a)(O,2),S=k[0],w=k[1],x=Object(a.useState)(null),B=Object(j.a)(x,2),N=B[0],T=B[1];S!==n&&(T(n<S?"up":"down"),w(n));return Object(a.useLayoutEffect)((function(){return function(){He("confirm-leave-dialog")}}),[]),i.a.createElement(a.Fragment,null,i.a.createElement(le,{href:"/"}),i.a.createElement(nt,null,i.a.createElement(a.Fragment,null,i.a.createElement(J,null,i.a.createElement(oe,{standard:"Finde ",colored:null===e||void 0===e?void 0:e.name}),i.a.createElement(h,null),i.a.createElement(E,null,i.a.createElement(tt,{enable:m,frequency:b,handleIteration:function(){b!==r&&(y(r),f(!1),setTimeout((function(){f(!0)}),10))}}),i.a.createElement(h,null),i.a.createElement(o.a,{variant:"body1"},i.a.createElement(et,{game:e,distance:S}),i.a.createElement(Qe,{game:e,tendency:N})))),i.a.createElement(h,{factor:3}),i.a.createElement(E,{className:l.buttonWrapper},i.a.createElement(p.a,{onClick:function(){setTimeout((function(){return e="confirm-leave-dialog",z.dispatch({type:Fe,payload:e});var e}),250)}},"Spiel verlassen")),i.a.createElement(Pe,{open:(null===u||void 0===u?void 0:u.show)||!1,title:"Spiel verlassen",text:"M\xf6chtest du das Spiel wirklich verlassen?",onNo:function(){return He("confirm-leave-dialog")},onYes:function(){V(),Object(c.navigate)("/")}}))))},rt=function(){return Object(c.useTitle)("Nicht gefunden | SightMe"),i.a.createElement(J,null,i.a.createElement(E,null,i.a.createElement(o.a,{variant:"body1"},"Seite nicht gefunden :/")))},lt=n(105),ct=n(101),ot=n.n(ct),ut=n(204),st=n(102),dt=n.n(st),mt=n(210),ft=n(100),gt=n.n(ft),ht=n(208);function pt(e){return i.a.createElement(ht.a,Object.assign({elevation:6,variant:"filled"},e))}var vt=L("message","set"),bt=L("message","clear"),Et=(Ve={},Object(y.a)(Ve,vt,(function(e,t){var n=t.message,a=t.scope;return Object(P.a)(e,(function(e){e[a]=n}))})),Object(y.a)(Ve,bt,(function(e,t){return Object(P.a)(e,(function(e){e[t]=null}))})),Ve),jt={global:null};z.injectReducer("message",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Et[n]?Et[n](e,a):e}));var yt=function(e){var t=e.stateName,n=e.useAlert,r=void 0===n||n,l=e.severity,c=void 0===l?"error":l,o=e.actionName,u=void 0===o?"R\xfcckg\xe4ngig":o,s=e.action,d=void 0===s?null:s,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=Object(a.useState)(D("message")),n=Object(j.a)(t,2),i=n[0],r=n[1];return Object(a.useLayoutEffect)((function(){return C("message",r)}),[r]),i[e]}(t),f=m,g=!!m,h=Object(a.useState)(""),v=Object(j.a)(h,2),b=v[0],E=v[1],y=function(e,n){"clickaway"!==n&&g&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";z.dispatch({type:bt,payload:e})}(t)},O=null;return r&&(O=i.a.createElement(pt,{severity:c,onClose:y},b)),Object(a.useLayoutEffect)((function(){f&&E(f)}),[f]),i.a.createElement(mt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:6e3,message:!r&&b,onClose:y,action:!r&&i.a.createElement(i.a.Fragment,null,d&&i.a.createElement(p.a,{color:"secondary",size:"small",onClick:d},u),i.a.createElement(ne.a,{size:"small","aria-label":"close",color:"inherit",onClick:y},i.a.createElement(gt.a,{fontSize:"small"})))},O)},Ot=Object(d.a)((function(){return{hugeVerticalPadding:{paddingTop:"10vh",paddingBottom:"5vh",paddingLeft:"1em",paddingRight:"1em",textAlign:"center"},hugeVerticalPaddingNoHorizontal:{paddingTop:"10vh",paddingBottom:"5vh",textAlign:"center"}}})),kt=function(e){var t=e.children,n=e.noHorizontalPadding,a=Ot();return i.a.createElement(s.a,{className:n?a.hugeVerticalPaddingNoHorizontal:a.hugeVerticalPadding},t)},St=n(201),wt=function(e){return i.a.createElement(St.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),v(e.href)}}))},xt=n(202),Bt=Object(d.a)((function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"flex-start"},link:{overflowWrap:"anywhere",wordBreak:"break-all",flexGrow:1},shareIconBox:{margin:"0px 16px"}}})),Nt=function(){Object(c.useTitle)("Link zum Spiel teilen | SightMe");var e=Bt(),t=function(){var e=Object(a.useState)(D("hosting")),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){return C("hosting",i)}),[i]),n.link}();return i.a.createElement(a.Fragment,null,i.a.createElement(le,{href:"/"}),i.a.createElement(J,null,t&&i.a.createElement(a.Fragment,null,i.a.createElement(kt,null,i.a.createElement(o.a,{variant:"h4",component:"h1"},"Spiel erstellt!")),i.a.createElement(E,null,i.a.createElement(g,null,"Das Spiel ist jetzt f\xfcr 24 Stunden g\xfcltig. Teile den Link, damit deine Freunde deinem Spiel beitreten k\xf6nnen.")),i.a.createElement(h,{factor:2}),i.a.createElement(Be,{standard:"Link zum Teilen"}),i.a.createElement(wt,{href:t,color:"inherit",className:e.link},t),i.a.createElement(h,null),i.a.createElement(E,null,i.a.createElement(p.a,{onClick:function(){navigator.share?navigator.share({url:t}):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";z.dispatch({type:vt,payload:{message:e,scope:t}})}("Dein Browser unterst\xfctzt das Teilen von Links nicht. Bitte kopiere den Link und verschicke ihn manuell.")}},i.a.createElement(xt.a,{style:{marginLeft:"-6px",marginRight:"16px"}}),"Teilen"))),!t&&i.a.createElement(kt,null,i.a.createElement(o.a,{variant:"h4",component:"h1"},"Bitte erstelle zuerst ein Spiel."))))},zt=n(203),Tt=Object(d.a)((function(){return{bottom:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},link:{verticalAlign:"top"}}})),At=function(){Object(c.useTitle)("\xdcber | SightMe");var e=Tt();return i.a.createElement(G,null,i.a.createElement(le,{href:"/"}),i.a.createElement(Y,null,i.a.createElement(oe,{standard:"\xdcber ",colored:"SightMe"}),i.a.createElement(o.a,{variant:"body1"},'SightMe ist durch die Idee eines Freundes entstanden. Sein Vater und ein paar Freunde von ihm haben fr\xfcher ein Spiel gespielt, bei dem sich einer in der Stadt mit seinem Auto "versteckt". Derjenige hat dann sein CB-Funkger\xe4t angeschaltet und die anderen mussten ihn dann Anhand der Signalst\xe4rke von ihm finden. Aus dem Spiel wurde die Idee f\xfcr eine App, und sp\xe4ter dann diese App.'),i.a.createElement(h,null),i.a.createElement(Be,{standard:"Funktionsweise"}),i.a.createElement(o.a,{variant:"body1"},"Wenn der Spielleiter ein Spiel erstellt, werden alle ben\xf6tigten Spieldaten in einem Link mittels Base64 zusammengefasst. Wenn die anderen Teilnehmer diesen Link \xf6ffnen, wird anhand der Distanz zum Ziel das blinken des Kreises berechnet."),i.a.createElement(h,null),i.a.createElement(Be,{standard:"Links"}),i.a.createElement(o.a,{variant:"body1"},i.a.createElement(zt.a,null)," ",i.a.createElement(St.a,{href:"https://github.com/Lennart401/sightme",target:"_blank",className:e.link},"github.com/Lennart401/sightme")),i.a.createElement(h,null)),i.a.createElement(J,null,i.a.createElement(E,{className:e.bottom},i.a.createElement(o.a,{variant:"body2"},"Version ","1.0.2"),i.a.createElement(o.a,{variant:"body2"},"\xa9 2020 Lennart Popkes"))))},Dt=n(205),Ct=function(e,t){var n=Object(a.useState)(""),r=Object(j.a)(n,2),l=r[0],c=r[1],o=Object(a.useState)(""),u=Object(j.a)(o,2),s=u[0],d=u[1];return{validate:function(){return 0===l.length&&d("Eingabe darf nicht leer sein!"),l.length>0&&l.length<=t},text:l,component:i.a.createElement(Dt.a,Object.assign({},e,{value:l,error:s.length>0,helperText:s,onChange:function(e){var n=e.target.value;n.length>t?d("Eingabe ist zu lang!"):d(""),c(n)}}))}},Lt=function(){Object(c.useTitle)("Spiel hosten | SightMe");var e=Ct({placeholder:"Dein Name"},20),t=e.validate,n=e.text,r=e.component,l=we();Object(a.useEffect)((function(){l.latitude&&l.longitude||Object(c.navigate)("/host")}),[l]);return i.a.createElement(G,null,i.a.createElement(le,{href:"/host"}),i.a.createElement(Y,null,i.a.createElement(kt,{noHorizontalPadding:!0},i.a.createElement(o.a,{variant:"h4",component:"h1"},"Bitte gib deinen Namen ein.")),i.a.createElement(E,null,i.a.createElement(g,null,"Damit wissen die Teilnehmer, dass sie wirklich deinem Spiel beitreten."),i.a.createElement(h,null),r,i.a.createElement(h,null))),i.a.createElement(Te,null,i.a.createElement(p.a,{onClick:function(){var e;t()&&(e=n,z.dispatch({type:ve,payload:e}),v("game-options"))}},"Weiter"),i.a.createElement(b,{variant:"text",color:"inherit",href:"/host"},"Zur\xfcck")))},Pt=n(211),Mt=Object(d.a)((function(){return{wrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),Ft=function(e){var t=e.label,n=e.control,a=Mt();return i.a.createElement(s.a,{className:a.wrapper},i.a.createElement(o.a,{variant:"body1"},t),n)},Rt=function(){Object(c.useTitle)("Spiel hosten | SightMe");var e=function(){var e=Object(a.useState)(D("hosting")),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){return C("hosting",i)}),[i]),n["assist-tendency"]}(),t=function(){var e=Object(a.useState)(D("hosting")),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){return C("hosting",i)}),[i]),n["assist-dyndist"]}(),n=we();Object(a.useEffect)((function(){n.latitude&&n.longitude||Object(c.navigate)("/host"),n.name||Object(c.navigate)("/host/enter-name")}),[n]);return i.a.createElement(G,null,i.a.createElement(le,{href:"enter-name"}),i.a.createElement(Y,null,i.a.createElement(kt,{noHorizontalPadding:!0},i.a.createElement(o.a,{variant:"h4",component:"h1"},"Spieloptionen")),i.a.createElement(Ft,{label:"Richtungs-Tendenz anzeigen",control:i.a.createElement(Pt.a,{checked:e,onChange:function(e){return t=e.target.checked,z.dispatch({type:je,payload:t});var t}})}),i.a.createElement(g,null,"Zeige den Teilnehmern an, ob sie auf dich zu oder von dir weg laufen."),i.a.createElement(h,null),i.a.createElement(Ft,{label:"Dynamisch Distanz verwenden",control:i.a.createElement(Pt.a,{checked:t,onChange:function(e){return t=e.target.checked,z.dispatch({type:ye,payload:t});var t}})}),i.a.createElement(g,null,"Den Teilnehmer nicht die Distanz zu dir anzeigen, sondern nur den blinkenden Kreis. Die Anfang- Blink- Frequenz wird dynamisch berechnet.")),i.a.createElement(Te,null,i.a.createElement(p.a,{onClick:function(){z.dispatch({type:pe,payload:{}}),v("/share",!0)}},"Weiter"),i.a.createElement(b,{variant:"text",color:"inherit",href:"enter-name"},"Zur\xfcck")))},It=function(e){var t=e.gameBase64,n=ge(),a=Ge().distance;return i.a.createElement(G,null,i.a.createElement(le,{href:"/join/".concat(t)}),i.a.createElement(nt,null,i.a.createElement(Y,null,i.a.createElement(kt,null,i.a.createElement(o.a,{variant:"h4",component:"h1"},"Bitte best\xe4tige deine Position.")),i.a.createElement(E,null,i.a.createElement(g,null,"Der Host hat festgelegt, dass dieses Spiel ohne Distanz-Anzeige gespielt wird. Bitte best\xe4tige, dass du wirklich dort bist, wo du auf der Karte angezeigt wirst, damit wir den blinkenden Kreis richtig berechnen k\xf6nnen.")),i.a.createElement(h,null),i.a.createElement(fe,{location:n})),i.a.createElement(Te,null,i.a.createElement(p.a,{onClick:function(){var e;e=a,z.dispatch({type:W,payload:e}),v("/play")}},"Position best\xe4tigen"),i.a.createElement(b,{href:"/join/".concat(t),variant:"text",color:"inherit"},"Zur\xfcck"))))},Wt=Object(lt.a)({palette:{primary:ot.a,secondary:dt.a},overrides:{MuiButton:{root:{borderRadius:"5em"},label:{paddingLeft:"1em",paddingRight:"1em",paddingTop:"0.3em",paddingBottom:"0.3em"}},MuiIconButton:{root:{color:"#000"}},MuiOutlinedInput:{root:{borderRadius:"5em"},input:{padding:"16px 24px"}},MuiDialogActions:{root:{flexDirection:"column","& > :not(:first-child)":{marginTop:"6px"}}},MuiSnackbarContent:{root:{flexWrap:"nowrap"}},MuiSwitch:{root:{width:"48px"},switchBase:{"&$checked":{transform:"translateX(10px)"}}}},props:{MuiButton:{color:"secondary",variant:"contained"},MuiTextField:{variant:"outlined",fullWidth:!0},MuiDialogActions:{disableSpacing:!0}}}),Ht={"/":function(){return i.a.createElement(Q,null)},"/host":function(){return i.a.createElement(Ne,null)},"/host/enter-name":function(){return i.a.createElement(Lt,null)},"/host/game-options":function(){return i.a.createElement(Rt,null)},"/share":function(){return i.a.createElement(Nt,null)},"/join/:game":function(e){var t=e.game;return i.a.createElement(Ae,{gameBase64:t})},"/join/:game/confirm-position":function(e){var t=e.game;return i.a.createElement(It,{gameBase64:t})},"/play":function(){return i.a.createElement(it,null)},"/about":function(){return i.a.createElement(At,null)}},Vt=function(){var e=Object(c.useRoutes)(Ht);return i.a.createElement(ut.a,{theme:Wt},i.a.createElement(yt,{stateName:"global",useAlert:!1}),e||i.a.createElement(rt,null))},_t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Jt=n(104),Kt=n(103);Object(c.setBasepath)("/sightme"),F()().locale("de"),l.a.render(i.a.createElement(Jt.a,{store:z},i.a.createElement(Kt.a,{loading:null,persistor:T},i.a.createElement(Vt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sightme",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sightme","/service-worker.js");_t?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qt(t,e)}))}}()}},[[119,1,2]]]);
//# sourceMappingURL=main.9275ae78.chunk.js.map