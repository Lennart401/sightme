{"version":3,"sources":["ui/components/dual-color-typography.js","ui/components/half-page-header.js","ui/components/caption.js","ui/components/placeholder.js","logic/with-delay.js","ui/components/linked-button.js","ui/components/centering.js","logic/store.js","logic/store-util.js","logic/active-game.js","ui/pages/index-page.js","ui/components/linked-icon-button.js","ui/components/back-bar.js","ui/components/content.js","ui/components/page-title.js","ui/components/map-container.js","logic/use-geolocation.js","logic/dialogs.js","ui/components/quarter-page-header.js","ui/components/checked-textfield.js","logic/hosting.js","ui/components/enter-name-dialog.js","ui/components/linked-link.js","ui/components/section-title.js","logic/messages.js","ui/pages/host-page.js","ui/pages/join-page.js","ui/components/confirm-dialog.js","logic/use-distance.js","ui/pages/play-page.js","ui/pages/not-found-page.js","ui/components/alert.js","ui/components/state-snackbar.js","App.js","serviceWorker.js","index.js"],"names":["DualColorTypography","standard","colored","variant","component","Typography","color","useStyles","makeStyles","hugeVerticalPadding","paddingTop","paddingBottom","paddingLeft","paddingRight","textAlign","hugeVerticalPaddingNoHorizontal","HalfPageHeader","children","noHorizontalPadding","classes","Box","className","Caption","style","marginLeft","marginRight","Placeholder","factor","size","marginTop","navigateWithDelay","args","setTimeout","navigate","executeWithDelay","func","LinkedButton","props","Button","onClick","event","preventDefault","href","Centering","reducers","allStoreEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","whitelist","store","createStore","persistReducer","s","persistor","persistStore","injectReducer","reducer","replaceReducer","combineReducers","getState","storeKey","subscribe","lastState","makeActionName","name","SET_ACTIVE_GAME","LEAVE_ACTIVE_GAME","state","game","produce","draft","console","log","leaveActiveGame","dispatch","type","payload","useActiveGame","useState","setState","useLayoutEffect","moment","isAfter","IndexPage","LinkedIconButton","IconButton","theme","offsetFromTop","offset","mixins","toolbar","BackBar","undefined","AppBar","position","elevation","Toolbar","edge","aria-label","ArrowBackRounded","Content","titlePadding","PageTitle","MapContainer","location","center","coords","latitude","longitude","zoom","Map","height","TileLayer","attribution","url","Marker","Popup","width","useGeolocation","setLocation","useEffect","id","navigator","geolocation","watchPosition","clearWatch","SHOW_DIALOG","HIDE_DIALOG","SET_INFO","dialogName","show","info","showDialog","hideDialog","useDialogState","QuarterPageHeader","useCheckedTextfield","maxLength","text","setText","helperText","setHelperText","validate","length","TextField","value","error","onChange","newText","target","GENERATE_LINK","SET_USERNAME","SET_EXPIRES_AT","SET_LAT_LNG","gameData","expiresAt","lat","lng","parameter","Base64","encodeURI","JSON","stringify","origin","username","createDate","EnterNameDialog","onSubmit","onClose","placeholder","Dialog","fullScreen","open","DialogContent","DialogActions","LinkedLink","Link","SectionTitle","SET","CLEAR","message","scope","initialState","global","setMessage","container","display","flexDirection","flexWrap","justifyContent","alignItems","link","overflowWrap","flexGrow","shareIconBox","margin","HostPage","useLink","handleClose","share","ShareRounded","disabled","add","utc","format","bottom","marginBottom","JoinPage","gameBase64","parse","decode","validHours","diff","setActiveGame","ConfirmDialog","onYes","onNo","useDistance","distance","getDistance","frequency","Math","pow","E","buttonWrapper","oneToOneContainer","oneToOneItem","top","left","right","PlayPage","confirm","useAnimation","setUseAnimation","savedFrequency","setSavedFrequency","displayDistance","round","animation","onAnimationIteration","title","NotFoundPage","Alert","StateSnackbar","stateName","useAlert","severity","actionName","action","errorMessage","useMessage","latestError","setLatestError","reason","clearMessage","alert","Snackbar","anchorOrigin","vertical","horizontal","Fragment","fontSize","createMuiTheme","palette","primary","blue","secondary","green","overrides","MuiButton","root","borderRadius","label","MuiIconButton","MuiOutlinedInput","input","padding","MuiDialogActions","MuiSnackbarContent","MuiTextField","fullWidth","disableSpacing","routes","App","routeResult","useRoutes","ThemeProvider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","setBasepath","process","locale","ReactDOM","render","loading","document","getElementById","URL","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d8e453a9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst DualColorTypography = ({standard, colored, variant, component}) => {\r\n    return (\r\n        <Typography component={component || \"div\"} variant={variant || \"body1\"}>\r\n            <Typography component=\"span\" variant={variant || \"body1\"}>{standard}</Typography>\r\n            <Typography component=\"span\" color=\"secondary\" variant={variant || \"body1\"}>{colored}</Typography>\r\n        </Typography>\r\n    );\r\n};\r\n\r\nexport default DualColorTypography;","import React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    hugeVerticalPadding: {\r\n        paddingTop: \"25vh\",\r\n        paddingBottom: \"15vh\",\r\n        paddingLeft: \"1em\",\r\n        paddingRight: \"1em\",\r\n        textAlign: \"center\"\r\n    },\r\n    hugeVerticalPaddingNoHorizontal: {\r\n        paddingTop: \"25vh\",\r\n        paddingBottom: \"15vh\",\r\n        textAlign: \"center\"\r\n    },\r\n}));\r\n\r\nconst HalfPageHeader = ({children, noHorizontalPadding}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Box className={noHorizontalPadding ? classes.hugeVerticalPaddingNoHorizontal : classes.hugeVerticalPadding}>\r\n            {children}\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default HalfPageHeader;","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Caption = ({children}) => {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" style={{marginLeft: \"2em\", marginRight: \"2em\"}}>{children}</Typography>\r\n    );\r\n};\r\n\r\nexport default Caption;","import React from \"react\";\r\n\r\nconst Placeholder = ({factor = 1}) => {\r\n    const size = 2 * factor;\r\n    return <p style={{marginTop: size + \"em\"}}/>;\r\n};\r\n\r\nexport default Placeholder;","import { navigate } from \"hookrouter\";\r\n\r\nconst WAIT_DELAY = 250;\r\n\r\nexport const navigateWithDelay = (...args) => {\r\n    setTimeout(() => navigate(...args), WAIT_DELAY);\r\n}\r\n\r\nexport const executeWithDelay = (func) => {\r\n    setTimeout(func, WAIT_DELAY);\r\n}\r\n\r\nexport const navigateWithCustomDelay = (delay, ...args) => {\r\n    setTimeout(() => navigate(...args), delay);\r\n};","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {navigateWithDelay} from \"../../logic/with-delay\";\r\n\r\nconst LinkedButton = (props) => {\r\n    return (\r\n        <Button {...props} onClick={event => {\r\n            event.preventDefault();\r\n            navigateWithDelay(props.href);\r\n        }}>\r\n            {props.children}\r\n        </Button>\r\n    );\r\n};\r\n\r\nexport default LinkedButton;","import React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst Centering = (props) => {\r\n    return (\r\n        <Box {...props} style={{textAlign: \"center\"}}>\r\n            {props.children}\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Centering;","import { combineReducers, compose, createStore } from \"redux\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { persistReducer, persistStore } from \"redux-persist\";\r\n\r\nlet reducers = {};\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nconst allStoreEnhancers = composeEnhancers(\r\n    //applyMiddleware(thunkMiddleware),\r\n    // (window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n);\r\n\r\nconst persistConfig = {\r\n    key: \"active-game\",\r\n    storage: storage,\r\n    whitelist: [\"active-game\"]\r\n}\r\n\r\nexport const store = createStore(persistReducer(persistConfig, s => s), allStoreEnhancers); // allStoreEnhancers\r\nexport const persistor = persistStore(store);\r\n\r\nstore.injectReducer = (key, reducer) => {\r\n    reducers[key] = reducer;\r\n    store.replaceReducer(persistReducer(persistConfig, combineReducers(reducers)));\r\n};","import { store } from \"./store\";\r\n\r\nexport const getState = (storeKey) => store.getState()[storeKey];\r\n\r\nexport const subscribe = (storeKey, func) => {\r\n    let lastState = getState(storeKey);\r\n    return store.subscribe(() => {\r\n        if (lastState !== getState(storeKey)) {\r\n            lastState = getState(storeKey);\r\n            func(lastState);\r\n        }\r\n    });\r\n};\r\n\r\nexport const makeActionName = (storeKey, name) => `${storeKey}/${name}`;\r\n\r\nexport const setImmediateInterval = (func, interval) => {\r\n    func();\r\n    return setInterval(func, interval);\r\n};","import { getState, makeActionName, subscribe } from \"./store-util\";\r\nimport produce from \"immer\";\r\nimport { store } from \"./store\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\n\r\n/**\r\n * @typedef {Object} Game\r\n * @property {string} name - The host's name\r\n * @property {string} expiresAt - When the game expires, ISO 8601 date string\r\n * @property {number} lat - The host's latitude\r\n * @property {number} lng - The host's longitude\r\n */\r\n\r\nconst storeKey = \"active-game\";\r\n\r\n// DEFINITIONS\r\nconst SET_ACTIVE_GAME = makeActionName(storeKey, \"set-active-game\");\r\nconst LEAVE_ACTIVE_GAME = makeActionName(storeKey, \"leave-active-game\");\r\n\r\nconst reducers = {\r\n    [SET_ACTIVE_GAME]: (state, game) => produce(state, draft => {\r\n        console.log(\"set-active-game \" + game);\r\n        return game;\r\n    }),\r\n    [LEAVE_ACTIVE_GAME]: (state) => produce(state, draft => {\r\n        delete draft[\"name\"];\r\n        delete draft[\"expiresAt\"];\r\n        delete draft[\"lat\"];\r\n        delete draft[\"lng\"];\r\n    })\r\n};\r\n\r\n// EXPORTS -- setters\r\nexport const setActiveGame = (game) => {\r\n    store.dispatch({type: SET_ACTIVE_GAME, payload: game});\r\n};\r\n\r\nexport const leaveActiveGame = () => {\r\n    store.dispatch({type: LEAVE_ACTIVE_GAME, payload: {}});\r\n};\r\n\r\nstore.injectReducer(storeKey, (state = {}, {type, payload}) =>\r\n    reducers[type] ? reducers[type](state, payload) : state\r\n);\r\n\r\n// -- hooks\r\n\r\nexport const useActiveGame = () => {\r\n    const [state, setState] = useState(getState(storeKey));\r\n    useLayoutEffect(() => subscribe(storeKey, setState), [setState]);\r\n\r\n    // Leave active game if currentTime > expiredAt\r\n    if (state) {\r\n        if (moment().isAfter(state[\"expiresAt\"])) {\r\n            leaveActiveGame();\r\n        }\r\n    }\r\n\r\n    return state;\r\n};","import React, { Fragment } from \"react\";\r\nimport DualColorTypography from \"../components/dual-color-typography\";\r\nimport HalfPageHeader from \"../components/half-page-header\";\r\nimport Caption from \"../components/caption\";\r\nimport Placeholder from \"../components/placeholder\";\r\nimport LinkedButton from \"../components/linked-button\";\r\nimport Centering from \"../components/centering\";\r\nimport { useActiveGame } from \"../../logic/active-game\";\r\n\r\nconst IndexPage = () => {\r\n    const game = useActiveGame();\r\n\r\n    return (\r\n        <Fragment>\r\n            <HalfPageHeader>\r\n                <DualColorTypography variant=\"h2\" component=\"h1\" standard=\"Sight\" colored=\"Me\"/>\r\n            </HalfPageHeader>\r\n            <Centering>\r\n                <LinkedButton href={\"/host\"}>Spiel erstellen</LinkedButton>\r\n                <Placeholder/>\r\n\r\n                {game.name && (\r\n                    <LinkedButton href={\"/play\"}>{game.name}'s Spiel</LinkedButton>\r\n                )}\r\n                {!game.name && (\r\n                    <Caption>Du nimmst aktuell an keinem aktiven Spiel teil. Du erhältst vom Spielleiter einen Link zum Beitreten.</Caption>\r\n                )}\r\n            </Centering>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default IndexPage;","import React from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { navigateWithDelay } from \"../../logic/with-delay\";\r\n\r\nconst LinkedIconButton = (props) => {\r\n    return (\r\n        <IconButton {...props} onClick={event => {\r\n            event.preventDefault();\r\n            navigateWithDelay(props.href);\r\n        }}>\r\n            {props.children}\r\n        </IconButton>\r\n    );\r\n};\r\n\r\nexport default LinkedIconButton;","import React, { Fragment } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport LinkedIconButton from \"./linked-icon-button\";\r\nimport { ArrowBackRounded } from \"@material-ui/icons\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    offsetFromTop: {\r\n        paddingTop: \"3vh\"\r\n    },\r\n    offset: theme.mixins.toolbar,\r\n}));\r\n\r\nconst BackBar = ({href, onClick}) => {\r\n    const classes = useStyles();\r\n\r\n    if (href) onClick = undefined;\r\n\r\n    return (\r\n        <Fragment>\r\n            <AppBar position=\"sticky\" className={classes.offsetFromTop} color=\"transparent\" elevation={0}>\r\n                <Toolbar>\r\n                    {href && (\r\n                        <LinkedIconButton href={href} edge=\"start\" aria-label=\"back\">\r\n                            <ArrowBackRounded/>\r\n                        </LinkedIconButton>\r\n                    )}\r\n                    {onClick && (\r\n                        <IconButton onClick={onClick} edge=\"start\" aria-label=\"back\">\r\n                            <ArrowBackRounded/>\r\n                        </IconButton>\r\n                    )}\r\n                </Toolbar>\r\n            </AppBar>\r\n            {/*<div className={classes.offset}/>*/}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default BackBar;","import React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst Content = ({children}) => {\r\n    return (\r\n        <Box style={{marginLeft: \"16px\", marginRight: \"16px\"}}>\r\n            {children}\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Content;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DualColorTypography from \"./dual-color-typography\";\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    titlePadding: {\r\n        paddingTop: \"0.5em\",\r\n        paddingBottom: \"3em\"\r\n    }\r\n}));\r\n\r\nconst PageTitle = ({standard, colored}) => {\r\n    const classes = useStyles();\r\n    const variant = \"h6\";\r\n\r\n    if (colored) {\r\n        return (\r\n            <Box className={classes.titlePadding}>\r\n                <DualColorTypography variant={variant} component=\"h1\" standard={standard} colored={colored}/>\r\n            </Box>\r\n        );\r\n    } else {\r\n        return (\r\n            <Box className={classes.titlePadding}>\r\n                <Typography variant={variant} component=\"h1\">{standard}</Typography>\r\n            </Box>\r\n        );\r\n    }\r\n};\r\n\r\nexport default PageTitle;","import React, { Fragment, useState } from \"react\";\r\nimport { Map, Marker, Popup, TileLayer } from \"react-leaflet\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Centering from \"./centering\";\r\n\r\nconst MapContainer = ({location}) => {\r\n    // const [center, setCenter] = useState([53.301, 10.348]);\r\n    const center = [location?.coords?.latitude, location?.coords?.longitude];\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [zoom, setZoom] = useState(13);\r\n\r\n    return (\r\n        <Fragment>\r\n            {location && (\r\n                <Map center={center} zoom={zoom} style={{height: \"30vmax\"}}>\r\n                    <TileLayer\r\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Marker position={center}>\r\n                        <Popup>Deine Position</Popup>\r\n                    </Marker>\r\n                </Map>\r\n            )}\r\n            {!location && (\r\n                <div style={{width: \"100%\", height: \"30vmax\"}}>\r\n                    <Centering>\r\n                        <Typography variant=\"body2\">GPS-Position ist unbekannt. Bitte erlaube den Standort für diese App</Typography>\r\n                    </Centering>\r\n                </div>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default MapContainer;","import { useEffect, useState } from \"react\";\r\n\r\nconst useGeolocation = () => {\r\n    const [location, setLocation] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let id = undefined;\r\n        if (navigator.geolocation) {\r\n            id = navigator.geolocation.watchPosition(position => {\r\n                setLocation(position);\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            if (id) {\r\n                navigator.geolocation.clearWatch(id);\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    return location;\r\n};\r\n\r\nexport default useGeolocation;","import { getState, makeActionName, subscribe } from \"./store-util\";\r\nimport produce from \"immer\";\r\nimport { store } from \"./store\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\n\r\nconst storeKey = \"dialogs\";\r\n\r\n// DEFINITIONS\r\nconst SHOW_DIALOG = makeActionName(storeKey, \"show\");\r\nconst HIDE_DIALOG = makeActionName(storeKey, \"hide\");\r\nconst SET_INFO = makeActionName(storeKey, \"setInfo\");\r\n\r\nconst reducers = {\r\n    [SHOW_DIALOG]: (state, dialogName) => produce(state, draft => {\r\n        draft[dialogName] = {...state[dialogName], show: true}\r\n    }),\r\n    [HIDE_DIALOG]: (state, dialogName) => produce(state, draft => {\r\n        draft[dialogName] = {...state[dialogName], show: false}\r\n    }),\r\n\r\n    [SET_INFO]: (state, {dialogName, info}) => produce(state, draft => {\r\n        draft[dialogName] = {...info, show: state[dialogName]?.show}\r\n    })\r\n};\r\n\r\n// EXPORTS -- setters\r\nexport const showDialog = (dialogName) =>\r\n    store.dispatch({type: SHOW_DIALOG, payload: dialogName});\r\n// hideDialog will only be dispatched if the dialog is actually open (in order not to bloat redux timeline)\r\nexport const hideDialog = (dialogName) => {\r\n    if (getState(storeKey)[dialogName]?.show)\r\n        store.dispatch({type: HIDE_DIALOG, payload: dialogName});\r\n};\r\nexport const setDialogInfo = (dialogName, info) =>\r\n    store.dispatch({type: SET_INFO, payload: {dialogName, info}});\r\n\r\nstore.injectReducer(storeKey, (state = {}, {type, payload}) =>\r\n    reducers[type] ? reducers[type](state, payload) : state\r\n);\r\n\r\n// -- hooks\r\n/**\r\n * @param {string} dialogName\r\n * @returns {{show: {boolean}}}\r\n */\r\nexport const useDialogState = (dialogName) => {\r\n    const [state, setState] = useState(getState(storeKey));\r\n    useLayoutEffect(() => subscribe(storeKey, setState), [setState]);\r\n    return state[dialogName];\r\n};","import React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    hugeVerticalPadding: {\r\n        paddingTop: \"10vh\",\r\n        paddingBottom: \"5vh\",\r\n        paddingLeft: \"1em\",\r\n        paddingRight: \"1em\",\r\n        textAlign: \"center\"\r\n    },\r\n    hugeVerticalPaddingNoHorizontal: {\r\n        paddingTop: \"10vh\",\r\n        paddingBottom: \"5vh\",\r\n        textAlign: \"center\"\r\n    },\r\n}));\r\n\r\nconst QuarterPageHeader = ({children, noHorizontalPadding}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Box className={noHorizontalPadding ? classes.hugeVerticalPaddingNoHorizontal : classes.hugeVerticalPadding}>\r\n            {children}\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default QuarterPageHeader;","import React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst useCheckedTextfield = (props, maxLength) => {\r\n    const [text, setText] = useState(\"\");\r\n    const [helperText, setHelperText] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        const newText = event.target.value;\r\n        if (newText.length > maxLength) setHelperText(\"Eingabe ist zu lang!\");\r\n        else setHelperText(\"\");\r\n        setText(newText);\r\n    };\r\n\r\n    const isContentValid = () => {\r\n        if (text.length === 0) setHelperText(\"Eingabe darf nicht leer sein!\");\r\n        return text.length > 0 && text.length <= maxLength;\r\n    };\r\n\r\n    return {\r\n        validate: isContentValid,\r\n        text: text,\r\n        component: <TextField {...props}\r\n                              value={text}\r\n                              error={helperText.length > 0}\r\n                              helperText={helperText}\r\n                              onChange={handleChange}/>,\r\n    };\r\n};\r\n\r\nexport default useCheckedTextfield;","import { getState, makeActionName, subscribe } from \"./store-util\";\r\nimport produce from \"immer\";\r\nimport { store } from \"./store\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport { Base64 } from \"js-base64\";\r\n\r\nconst storeKey = \"hosting\";\r\n\r\n// DEFINITIONS\r\nconst GENERATE_LINK = makeActionName(storeKey, \"generate-link\");\r\nconst SET_USERNAME = makeActionName(storeKey, \"set-username\");\r\nconst SET_EXPIRES_AT = makeActionName(storeKey, \"set-create-date\");\r\nconst SET_LAT_LNG = makeActionName(storeKey, \"set-lat-lng\");\r\n\r\nconst reducers = {\r\n    [GENERATE_LINK]: (state) => produce(state, draft => {\r\n        /** @type {Game} */\r\n        const gameData = {\r\n            name: state[\"name\"],\r\n            expiresAt: state[\"expiresAt\"],\r\n            lat: state[\"latitude\"],\r\n            lng: state[\"longitude\"]\r\n        };\r\n\r\n        const parameter = Base64.encodeURI(JSON.stringify(gameData));\r\n        draft[\"link\"] = window.origin + \"/sightme/join/\" + parameter;\r\n    }),\r\n\r\n    [SET_USERNAME]: (state, username) => produce(state, draft => {draft[\"name\"] = username}),\r\n    [SET_EXPIRES_AT]: (state, createDate) => produce(state, draft => {draft[\"expiresAt\"] = createDate}),\r\n    [SET_LAT_LNG]: (state, {lat, lng}) => produce(state, draft => {\r\n        draft[\"latitude\"] = lat;\r\n        draft[\"longitude\"] = lng;\r\n    })\r\n};\r\n\r\n// EXPORTS -- setters\r\nexport const generateLink = () =>\r\n    store.dispatch({type: GENERATE_LINK, payload: {}});\r\n\r\nexport const setUsername = (username) =>\r\n    store.dispatch({type: SET_USERNAME, payload: username});\r\n\r\nexport const setExpiresAt = (createDate) =>\r\n    store.dispatch({type: SET_EXPIRES_AT, payload: createDate});\r\n\r\nexport const setLatLng = (lat, lng) =>\r\n    store.dispatch({type: SET_LAT_LNG, payload: {lat, lng}});\r\n\r\n// const initialState = {\r\n//     latitude: 53.3037056,\r\n//     longitude: 10.544742399999999,\r\n//     expiresAt: '2020-07-04T22:53:20Z',\r\n//     name: 'Lennart',\r\n//     link: 'http://localhost:3000/sightme/join/eyJuYW1lIjoiTGVubmFydCIsImV4cGlyZXNBdCI6IjIwMjAtMDctMDRUMjI6NTM6MjBaIiwibGF0Ijo1My4zMDM3MDU2LCJsbmciOjEwLjU0NDc0MjM5OTk5OTk5OX0'\r\n// };\r\n\r\nstore.injectReducer(storeKey, (state = {}, {type, payload}) =>\r\n    reducers[type] ? reducers[type](state, payload) : state\r\n);\r\n\r\n// -- hooks\r\nexport const useLink = () => {\r\n    const [state, setState] = useState(getState(storeKey));\r\n    useLayoutEffect(() => subscribe(storeKey, setState), [setState]);\r\n    return state[\"link\"];\r\n};","import React from \"react\";\r\nimport { useDialogState } from \"../../logic/dialogs\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport BackBar from \"./back-bar\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Caption from \"./caption\";\r\nimport QuarterPageHeader from \"./quarter-page-header\";\r\nimport Centering from \"./centering\";\r\nimport Placeholder from \"./placeholder\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useCheckedTextfield from \"./checked-textfield\";\r\nimport { setUsername } from \"../../logic/hosting\";\r\n\r\nexport const ENTER_NAME_DIALOG = \"enter-name-dialog\";\r\n\r\nconst EnterNameDialog = ({onSubmit, onClose}) => {\r\n    const state = useDialogState(ENTER_NAME_DIALOG);\r\n    const {validate, text, component} = useCheckedTextfield({placeholder: \"Dein Name\"}, 20);\r\n\r\n    return (\r\n        <Dialog fullScreen={true} open={state?.show || false} onClose={onClose}>\r\n            <BackBar onClick={onClose}/>\r\n            <DialogContent>\r\n                <QuarterPageHeader noHorizontalPadding>\r\n                    <Typography variant=\"h4\" component=\"h1\">Bitte gib deinen Namen ein.</Typography>\r\n                </QuarterPageHeader>\r\n                <Centering>\r\n                    <Caption>Damit wissen die Teilnehmer, dass sie wirklich deinem Spiel beitreten.</Caption>\r\n                    <Placeholder/>\r\n                    {component}\r\n                </Centering>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => {\r\n                    if (validate()) {\r\n                        setUsername(text);\r\n                        onSubmit();\r\n                    }\r\n                }}>Spiel erstellen</Button>\r\n                <Button variant=\"text\" color=\"inherit\" onClick={onClose}>Abbrechen</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default EnterNameDialog;","import React from \"react\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { navigateWithDelay } from \"../../logic/with-delay\";\r\n\r\nconst LinkedLink = (props) => {\r\n    return <Link {...props} onClick={event => {\r\n        event.preventDefault();\r\n        navigateWithDelay(props.href);\r\n    }}/>;\r\n};\r\n\r\nexport default LinkedLink;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DualColorTypography from \"./dual-color-typography\";\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    titlePadding: {\r\n        paddingTop: \"0.5em\",\r\n        paddingBottom: \"0.5em\"\r\n    }\r\n}));\r\n\r\nconst SectionTitle = ({standard, colored}) => {\r\n    const classes = useStyles();\r\n    const variant = \"subtitle2\";\r\n\r\n    if (colored) {\r\n        return (\r\n            <Box className={classes.titlePadding}>\r\n                <DualColorTypography variant={variant} component=\"h1\" standard={standard} colored={colored}/>\r\n            </Box>\r\n        );\r\n    } else {\r\n        return (\r\n            <Box className={classes.titlePadding}>\r\n                <Typography variant={variant} component=\"h1\">{standard}</Typography>\r\n            </Box>\r\n        );\r\n    }\r\n};\r\n\r\nexport default SectionTitle;","import { getState, makeActionName, subscribe } from \"./store-util\";\r\nimport { store } from \"./store\";\r\nimport produce from \"immer\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\n\r\nconst storeKey = \"message\";\r\nconst DEFAULT_SCOPE = \"global\";\r\n\r\n// DEFINITIONS\r\nconst SET = makeActionName(storeKey, \"set\");\r\nconst CLEAR = makeActionName(storeKey, \"clear\");\r\n\r\nconst reducers = {\r\n    [SET]: (state, {message, scope}) => produce(state, draft => {draft[scope] = message;}),\r\n    [CLEAR]: (state, scope) => produce(state, draft => {draft[scope] = null;})\r\n}\r\n\r\nconst initialState = {\r\n    global: null\r\n};\r\n\r\n// EXPORTS -- setters\r\nexport const setMessage = (message, scope = DEFAULT_SCOPE) =>\r\n    store.dispatch({type: SET, payload: {message, scope}});\r\n\r\nexport const clearMessage = (scope = DEFAULT_SCOPE) =>\r\n    store.dispatch({type: CLEAR, payload: scope});\r\n\r\nstore.injectReducer(storeKey, (state = initialState, {type, payload}) =>\r\n    reducers[type] ? reducers[type](state, payload) : state\r\n);\r\n\r\n// -- hooks\r\nexport const useMessage = (scope = DEFAULT_SCOPE) => {\r\n    const [state, setState] = useState(getState(storeKey));\r\n    useLayoutEffect(() => subscribe(storeKey, setState), [setState]);\r\n    return state[scope];\r\n};","import React, { Fragment } from \"react\";\r\nimport BackBar from \"../components/back-bar\";\r\nimport Content from \"../components/content\";\r\nimport PageTitle from \"../components/page-title\";\r\nimport MapContainer from \"../components/map-container\";\r\nimport useGeolocation from \"../../logic/use-geolocation\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Placeholder from \"../components/placeholder\";\r\nimport Centering from \"../components/centering\";\r\nimport Caption from \"../components/caption\";\r\nimport { hideDialog, showDialog } from \"../../logic/dialogs\";\r\nimport EnterNameDialog, { ENTER_NAME_DIALOG } from \"../components/enter-name-dialog\";\r\nimport { executeWithDelay } from \"../../logic/with-delay\";\r\nimport { generateLink, setExpiresAt, setLatLng, useLink } from \"../../logic/hosting\";\r\nimport moment from \"moment\";\r\nimport LinkedLink from \"../components/linked-link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { ShareRounded } from \"@material-ui/icons\";\r\nimport SectionTitle from \"../components/section-title\";\r\nimport { setMessage } from \"../../logic/messages\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    container: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        flexWrap: \"nowrap\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"flex-start\",\r\n    },\r\n    link: {\r\n        overflowWrap: \"anywhere\",\r\n        flexGrow: 1\r\n    },\r\n    shareIconBox: {\r\n        margin: \"0px 16px\"\r\n    }\r\n}));\r\n\r\nconst HostPage = () => {\r\n    const classes = useStyles();\r\n    const location = useGeolocation();\r\n    const link = useLink();\r\n\r\n    // Dialog-Methods\r\n    const handleClose = () => executeWithDelay(() => hideDialog(ENTER_NAME_DIALOG));\r\n    const handleSubmit = () => {\r\n        handleClose();\r\n        generateLink();\r\n        setMessage(\"Das Spiel wurde erstellen! Du kannst den Link zum Spiel jetzt teilen oder noch ein neues Spiel erstellen.\");\r\n    };\r\n\r\n    // Create button handler --> opens dialog\r\n    const handleClickCreate = () => {\r\n        setLatLng(location.coords.latitude, location.coords.longitude);\r\n        setExpiresAt(moment().add(1, 'days').utc().format());\r\n        executeWithDelay(() => showDialog(ENTER_NAME_DIALOG));\r\n    };\r\n\r\n    // Share button handler\r\n    const handleClickShare = () => {\r\n        if (navigator.share) {\r\n            navigator.share({\r\n                url: link\r\n            });\r\n        } else {\r\n            setMessage(\"Dein Browser unterstützt das Teilen von Links nicht. Bitte kopiere den Link und verschicke ihn manuell.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <BackBar href={\"/\"}/>\r\n            <Content>\r\n                <PageTitle standard=\"Ein Spiel hosten\"/>\r\n\r\n                {/* Map-Section with Title and Map */}\r\n                <SectionTitle standard=\"Karte\"/>\r\n                <MapContainer location={location}/>\r\n                <Placeholder/>\r\n\r\n                {/* Link-Section with Title, Link and Share Icon */}\r\n                {link && (\r\n                    <Fragment>\r\n                        <SectionTitle standard=\"Link zum Teilen\"/>\r\n                        <Box className={classes.container}>\r\n\r\n                            <LinkedLink href={link} color=\"inherit\" className={classes.link}>{link}</LinkedLink>\r\n                            <Box className={classes.shareIconBox}>\r\n                                <IconButton onClick={handleClickShare}>\r\n                                    <ShareRounded/>\r\n                                </IconButton>\r\n                            </Box>\r\n                        </Box>\r\n\r\n                        <Placeholder/>\r\n                    </Fragment>\r\n                )}\r\n\r\n                {/* Create Button or location permission message */}\r\n                <Centering>\r\n                    <Button disabled={!location} onClick={handleClickCreate}>{link ? \"Neues \" : \"\"}Spiel erstellen</Button>\r\n                    {!location && (\r\n                        <Fragment>\r\n                            <Placeholder/>\r\n                            <Caption>Bitte erlaube den Standort für diese App</Caption>\r\n                        </Fragment>\r\n                    )}\r\n                </Centering>\r\n            </Content>\r\n\r\n            {/* The \"enter name\"-dialog with references to corresponding action handler methods */}\r\n            <EnterNameDialog onSubmit={handleSubmit} onClose={handleClose}/>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default HostPage;","import React, { Fragment } from \"react\";\r\nimport { Base64 } from \"js-base64\";\r\nimport BackBar from \"../components/back-bar\";\r\nimport Content from \"../components/content\";\r\nimport PageTitle from \"../components/page-title\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport moment from \"moment\";\r\nimport Centering from \"../components/centering\";\r\nimport Placeholder from \"../components/placeholder\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LinkedButton from \"../components/linked-button\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { setActiveGame } from \"../../logic/active-game\";\r\nimport { navigateWithDelay } from \"../../logic/with-delay\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    container: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        bottom: 0,\r\n        width: \"100%\",\r\n        marginBottom: \"8px\"\r\n    }\r\n}));\r\n\r\nconst JoinPage = ({gameBase64}) => {\r\n    const classes = useStyles();\r\n\r\n    const game = JSON.parse(Base64.decode(gameBase64));\r\n    const validHours = moment(game?.expiresAt).diff(moment(), 'hours');\r\n\r\n    const handleClickJoin = () => {\r\n        setActiveGame(game);\r\n        navigateWithDelay(\"/play\");\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <BackBar href={\"/\"}/>\r\n            <Content>\r\n                <PageTitle standard=\"Einem Spiel beitreten\"/>\r\n                <Placeholder factor={2}/>\r\n\r\n                <Centering>\r\n                    {game && (\r\n                        <Fragment>\r\n                            <Typography variant=\"h4\">Host: {game?.name}</Typography><br/>\r\n                            {validHours >= 0 && (\r\n                                <Typography variant=\"body1\">gültig für die nächsten {validHours} Stunde(n)</Typography>\r\n                            )}\r\n                            {validHours < 0 && (\r\n                                <Typography variant=\"body1\">Das Spiel ist bereit abgelaufen, du kannst ihm nicht mehr beitreten.</Typography>\r\n                            )}\r\n                        </Fragment>\r\n                    )}\r\n                    {!game && (\r\n                        <Typography variant=\"h5\">Im Link befindet sich kein gültiges Spiel. Bitte deinen Spielleiter, dir den Link noch einmal zu schicken.</Typography>\r\n                    )}\r\n                </Centering>\r\n            </Content>\r\n\r\n            <Box className={classes.container}>\r\n                <Button onClick={handleClickJoin}>Spiel beitreten</Button>\r\n                <LinkedButton href={\"/\"} variant=\"text\" color=\"inherit\" style={{marginTop: \"6px\"}}>Abbrechen</LinkedButton>\r\n            </Box>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default JoinPage;","import React from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Centering from \"./centering\";\r\n\r\nconst ConfirmDialog = ({open, text, onYes, onNo}) => {\r\n    return (\r\n        <Dialog open={open} onClose={onNo}>\r\n            <DialogContent>\r\n                <Centering>\r\n                    <Typography variant=\"body1\">{text}</Typography>\r\n                </Centering>\r\n            </DialogContent>\r\n            <DialogActions style={{flexDirection: \"row\", justifyContent: \"center\"}}>\r\n                <Button variant=\"text\" color=\"inherit\" onClick={onNo}>Nein</Button>\r\n                <Button onClick={onYes}>Ja</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n\r\n","import useGeolocation from \"./use-geolocation\";\r\nimport getDistance from \"geolib/es/getDistance\";\r\nimport { useActiveGame } from \"./active-game\";\r\n\r\nconst useDistance = () => {\r\n    const location = useGeolocation();\r\n    const game = useActiveGame();\r\n\r\n    if (location && game) {\r\n        const distance = getDistance(\r\n            {latitude: location.coords.latitude, longitude: location.coords.longitude},\r\n            {latitude: game.lat, longitude: game.lng},\r\n            1\r\n        );\r\n\r\n        const frequency = 5 * Math.pow(Math.E, -0.001168 * distance);\r\n\r\n        return {distance, frequency};\r\n    } else {\r\n        return {distance: -1, frequency: -1};\r\n    }\r\n};\r\n\r\nexport default useDistance;","import React, { Fragment, useLayoutEffect, useState } from \"react\";\r\nimport BackBar from \"../components/back-bar\";\r\nimport Content from \"../components/content\";\r\nimport PageTitle from \"../components/page-title\";\r\nimport { leaveActiveGame, useActiveGame } from \"../../logic/active-game\";\r\nimport { navigate } from \"hookrouter\";\r\nimport { setMessage } from \"../../logic/messages\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Centering from \"../components/centering\";\r\nimport { executeWithDelay } from \"../../logic/with-delay\";\r\nimport Placeholder from \"../components/placeholder\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ConfirmDialog from \"../components/confirm-dialog\";\r\nimport { hideDialog, showDialog, useDialogState } from \"../../logic/dialogs\";\r\nimport useDistance from \"../../logic/use-distance\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    buttonWrapper: {\r\n        position: \"fixed\",\r\n        bottom: 0,\r\n        width: \"100%\",\r\n        marginBottom: \"24px\"\r\n    },\r\n    oneToOneContainer: {\r\n        width: \"100%\",\r\n        paddingTop: \"100%\",\r\n        position: \"relative\",\r\n    },\r\n    oneToOneItem: {\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0\r\n    }\r\n}));\r\n\r\nconst CONFIRM_LEAVE_DIALOG = \"confirm-leave-dialog\";\r\n\r\nconst PlayPage = () => {\r\n    const game = useActiveGame();\r\n    const {distance, frequency} = useDistance();\r\n    const classes = useStyles();\r\n    const confirm = useDialogState(CONFIRM_LEAVE_DIALOG);\r\n\r\n    const [useAnimation, setUseAnimation] = useState(true);\r\n    const [savedFrequency, setSavedFrequency] = useState(0.8);\r\n\r\n    if (!game.name) {\r\n        navigate(\"/\");\r\n        setMessage(\"Kein aktives Spiel gefunden!\");\r\n    }\r\n\r\n    const handleLeave = () => {\r\n        leaveActiveGame();\r\n        navigate(\"/\");\r\n    };\r\n\r\n    const handleIteration = () => {\r\n        if (savedFrequency !== frequency) {\r\n            setSavedFrequency(frequency);\r\n            setUseAnimation(false);\r\n            setTimeout(() => {\r\n                setUseAnimation(true);\r\n            }, 10);\r\n        }\r\n    };\r\n\r\n    useLayoutEffect(() => {\r\n        return () => {\r\n            hideDialog(CONFIRM_LEAVE_DIALOG);\r\n        };\r\n    }, []);\r\n\r\n    const displayDistance = distance < 500 ? \"< 500 m\" : \"~ \" + (Math.round(distance * 0.002) * 0.5) + \" km\";\r\n\r\n    return (\r\n        <Fragment>\r\n            <BackBar href={\"/\"}/>\r\n            <Content>\r\n                <PageTitle standard=\"Finde \" colored={game.name}/>\r\n                <Placeholder/>\r\n\r\n                <Centering>\r\n                    <Box className={classes.oneToOneContainer}>\r\n                        <Box style={{\r\n                            position: \"absolute\",\r\n                            top: 0, left: 0, bottom: 0, right: 0,\r\n                            animation: useAnimation ? `ripple ${(1 / savedFrequency)}s ease-out infinite` : \"none\"\r\n                        }}\r\n                             className=\"ripple\"\r\n                             onAnimationIteration={handleIteration}/>\r\n                    </Box>\r\n\r\n                    <Placeholder/>\r\n                    <Typography variant=\"body1\">Distanz {displayDistance}</Typography>\r\n                </Centering>\r\n            </Content>\r\n\r\n            <Placeholder factor={3}/>\r\n\r\n            <Centering className={classes.buttonWrapper}>\r\n                <Button onClick={() => executeWithDelay(() => showDialog(CONFIRM_LEAVE_DIALOG))}>Spiel\r\n                    verlassen</Button>\r\n            </Centering>\r\n\r\n            <ConfirmDialog open={confirm?.show || false}\r\n                           title=\"Spiel verlassen\"\r\n                           text=\"Möchtest du das Spiel wirklich verlassen?\"\r\n                           onNo={() => hideDialog(CONFIRM_LEAVE_DIALOG)}\r\n                           onYes={handleLeave}/>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default PlayPage;","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst NotFoundPage = () => {\r\n    return (\r\n        <Typography variant=\"body1\">Seite nicht gefunden :/</Typography>\r\n    );\r\n};\r\n\r\nexport default NotFoundPage;","import React from \"react\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nexport function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}","import React, { useLayoutEffect, useState } from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { Alert } from \"./alert\";\r\nimport { clearMessage, useMessage } from \"../../logic/messages\";\r\n\r\n/**\r\n * Use can either use useAlert = true with severity OR action with actionName\r\n */\r\nconst StateSnackbar = ({stateName, useAlert = true, severity = \"error\", actionName = \"Rückgängig\", action = null}) => {\r\n    const errorMessage = useMessage(stateName);\r\n\r\n    const error = errorMessage;\r\n    const open = !!errorMessage;\r\n    const [latestError, setLatestError] = useState(\"\");\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        if (open) {\r\n            clearMessage(stateName);\r\n        }\r\n    };\r\n\r\n    let alert = null;\r\n    if (useAlert) {\r\n        alert = (\r\n            <Alert severity={severity} onClose={handleClose}>\r\n                {latestError}\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        if (error) {\r\n            setLatestError(error);\r\n        }\r\n    }, [error]);\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'left',\r\n            }}\r\n            open={open}\r\n            // autoHideDuration={6000}\r\n            // action={action && <Button onClick={action} size=\"small\" color=\"secondary\">{actionName}</Button>}\r\n            message={!useAlert && latestError}\r\n            onClose={handleClose}\r\n            action={!useAlert && (\r\n                <React.Fragment>\r\n                    {action && (\r\n                        <Button color=\"secondary\" size=\"small\" onClick={action}>\r\n                            {actionName}\r\n                        </Button>\r\n                    )}\r\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                        <CloseIcon fontSize=\"small\"/>\r\n                    </IconButton>\r\n                </React.Fragment>\r\n            )}>\r\n            {alert}\r\n        </Snackbar>\r\n    );\r\n};\r\n\r\nexport default StateSnackbar;","import React from 'react';\nimport './App.css';\nimport { useRoutes } from \"hookrouter\";\nimport IndexPage from \"./ui/pages/index-page\";\nimport HostPage from \"./ui/pages/host-page\";\nimport JoinPage from \"./ui/pages/join-page\";\nimport PlayPage from \"./ui/pages/play-page\";\nimport NotFoundPage from \"./ui/pages/not-found-page\";\nimport { createMuiTheme } from \"@material-ui/core\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport green from \"@material-ui/core/colors/green\";\nimport StateSnackbar from \"./ui/components/state-snackbar\";\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: blue,\n        secondary: green,\n    },\n    overrides: {\n        MuiButton: {\n            root: {\n                borderRadius: \"5em\",\n            },\n            label: {\n                paddingLeft: \"1em\",\n                paddingRight: \"1em\",\n                paddingTop: \"0.3em\",\n                paddingBottom: \"0.3em\"\n            }\n        },\n        MuiIconButton: {\n            root: {\n                color: \"#000\"\n            }\n        },\n        MuiOutlinedInput: {\n            root: {\n                borderRadius: \"5em\"\n            },\n            input: {\n                padding: \"16px 24px\"\n            }\n        },\n        MuiDialogActions: {\n            root: {\n                flexDirection: \"column\",\n                \"& > :not(:first-child)\" : {\n                    marginTop: \"6px\"\n                }\n            }\n        },\n        MuiSnackbarContent: {\n            root: {\n                flexWrap: \"nowrap\"\n            }\n        }\n    },\n    props: {\n        MuiButton: {\n            color: \"secondary\",\n            variant: \"contained\"\n        },\n        MuiTextField: {\n            variant: \"outlined\",\n            fullWidth: true,\n        },\n        MuiDialogActions: {\n            disableSpacing: true\n        }\n    }\n});\n\nconst routes = {\n    \"/\": () => <IndexPage/>,\n    \"/host\": () => <HostPage/>,\n    \"/join/:game\": ({game}) => <JoinPage gameBase64={game}/>,\n    \"/play\": () => <PlayPage/>\n};\n\nconst App = () => {\n    const routeResult = useRoutes(routes);\n\n    return (\n        <ThemeProvider theme={theme}>\n            <StateSnackbar stateName=\"global\" useAlert={false}/>\n            {routeResult || <NotFoundPage/>}\n        </ThemeProvider>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {setBasepath} from \"hookrouter\";\nimport moment from \"moment\";\nimport {Provider} from \"react-redux\";\nimport { persistor, store } from \"./logic/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nsetBasepath(process.env.PUBLIC_URL);\n\nmoment().locale(\"de\");\n\nReactDOM.render(\n    <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n            <App/>\n        </PersistGate>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}