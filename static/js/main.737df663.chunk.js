(this.webpackJsonpsightme=this.webpackJsonpsightme||[]).push([[0],{119:function(e,t,n){e.exports=n(150)},124:function(e,t,n){},125:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),l=n.n(r),o=(n(124),n(125),n(11)),c=n(151),u=function(e){var t=e.standard,n=e.colored,a=e.variant,r=e.component;return i.a.createElement(c.a,{component:r||"div",variant:a||"body1"},i.a.createElement(c.a,{component:"span",variant:a||"body1"},t),i.a.createElement(c.a,{component:"span",color:"secondary",variant:a||"body1"},n))},s=n(206),d=n(189),m=Object(d.a)((function(){return{hugeVerticalPadding:{paddingTop:"25vh",paddingBottom:"15vh",paddingLeft:"1em",paddingRight:"1em",textAlign:"center"},hugeVerticalPaddingNoHorizontal:{paddingTop:"25vh",paddingBottom:"15vh",textAlign:"center"}}})),f=function(e){var t=e.children,n=e.noHorizontalPadding,a=m();return i.a.createElement(s.a,{className:n?a.hugeVerticalPaddingNoHorizontal:a.hugeVerticalPadding},t)},g=function(e){var t=e.children,n=e.margin,a=void 0===n?"0em":n;return i.a.createElement(c.a,{variant:"body2",color:"textSecondary",style:{marginLeft:a,marginRight:a}},t)},h=function(e){var t=e.factor,n=2*(void 0===t?1:t);return i.a.createElement("p",{style:{marginTop:n+"em"}})},v=n(190),p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout((function(){return o.navigate.apply(void 0,t)}),250)},E=function(e){return i.a.createElement(v.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),p(e.href)}}),e.children)},b=function(e){return i.a.createElement(s.a,Object.assign({},e,{style:{textAlign:"center"}}),e.children)},y=n(15),j=n(14),O=n(32),k=n(96),S=n.n(k),w=n(70),x={},N=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.c)(),D={key:"active-game",storage:S.a,whitelist:["active-game"]},C=Object(O.d)(Object(w.a)(D,(function(e){return e})),N),T=Object(w.b)(C);C.injectReducer=function(e,t){x[e]=t,C.replaceReducer(Object(w.a)(D,Object(O.b)(x)))};var A,B=function(e){return C.getState()[e]},z=function(e,t){var n=B(e);return C.subscribe((function(){n!==B(e)&&(n=B(e),t(n))}))},I=function(e,t){return"".concat(e,"/").concat(t)},M=n(19),L=n(27),R=n.n(L),P=I("active-game","set-active-game"),_=I("active-game","leave-active-game"),F=I("active-game","set-initial-distance"),H=(A={},Object(j.a)(A,P,(function(e,t){return Object(M.a)(e,(function(e){return t}))})),Object(j.a)(A,_,(function(e){return Object(M.a)(e,(function(e){delete e.name,delete e.expiresAt,delete e.lat,delete e.lng,delete e.initialDistance,delete e.assist}))})),Object(j.a)(A,F,(function(e,t){return Object(M.a)(e,(function(e){e.initialDistance=t}))})),A),W=function(){C.dispatch({type:_,payload:{}})};C.injectReducer("active-game",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return H[n]?H[n](e,a):e}));var V,Y,U=function(){var e=Object(a.useState)(B("active-game")),t=Object(y.a)(e,2),n=t[0],i=t[1];if(Object(a.useLayoutEffect)((function(){return z("active-game",i)}),[i]),!n||!R()().isAfter(n.expiresAt))return(null===n||void 0===n?void 0:n.name)?n:void 0;W()},K=n(28),q=n.n(K),J=Object(d.a)((function(){return{content:{marginLeft:"24px",marginRight:"24px"}}})),Z=function(e){var t=J();return i.a.createElement(s.a,Object.assign({},e,{className:q()(e.className,t.content)}),e.children)},G=Object(d.a)((function(){return{fullHeightWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100%"}}})),X=function(e){var t=G();return i.a.createElement(s.a,Object.assign({},e,{className:q()(t.fullHeightWrapper,e.className)}),e.children)},$=Object(d.a)((function(){return{fullHeightContent:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"100%"}}})),Q=function(e){var t=$();return i.a.createElement(s.a,{className:t.fullHeightContent},i.a.createElement(Z,e,e.children,i.a.createElement(h,null)))},ee=Object(d.a)((function(){return{about:{marginBottom:"8px"}}})),te=function(){Object(o.useTitle)("SightMe");var e=U(),t=ee();return i.a.createElement(X,null,i.a.createElement(Q,null,i.a.createElement(f,{noHorizontalPadding:!0},i.a.createElement(u,{variant:"h2",component:"h1",standard:"Sight",colored:"Me"})),i.a.createElement(b,null,i.a.createElement(E,{href:"/host"},"Spiel erstellen"),i.a.createElement(h,null),e&&i.a.createElement(E,{href:"/play"},e.name,"'s Spiel"),!e&&i.a.createElement(g,{margin:"1em"},"Du nimmst aktuell an keinem aktiven Spiel teil. Du erh\xe4ltst vom Spielleiter einen Link zum Beitreten."))),i.a.createElement(Z,{className:t.about},i.a.createElement(b,null,i.a.createElement(E,{variant:"text",href:"/about"},"\xdcber die App"))))},ne=n(192),ae=n(193),ie=n(191),re=function(e){return i.a.createElement(ie.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),p(e.href)}}),e.children)},le=n(194),oe=Object(d.a)((function(e){return{offsetFromTop:{paddingTop:"3vh"},offset:e.mixins.toolbar,morePadding:{paddingLeft:"21px",paddingRight:"21px"}}})),ce=function(e){var t=e.href,n=e.onClick,r=oe();return t&&(n=void 0),t||n||(n=function(){return window.history.back()}),i.a.createElement(a.Fragment,null,i.a.createElement(ne.a,{position:"fixed",className:r.offsetFromTop,color:"transparent",elevation:0},i.a.createElement(ae.a,{className:r.morePadding},t&&i.a.createElement(re,{href:t,edge:"start","aria-label":"back"},i.a.createElement(le.a,null)),n&&i.a.createElement(ie.a,{onClick:n,edge:"start","aria-label":"back"},i.a.createElement(le.a,null)))),i.a.createElement("div",{className:q()(r.offset,r.offsetFromTop)}))},ue=Object(d.a)((function(){return{titlePadding:{paddingTop:"0.5em",paddingBottom:"3em"}}})),se=function(e){var t=e.standard,n=e.colored,a=ue();return n?i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(u,{variant:"h6",component:"h1",standard:t,colored:n})):i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(c.a,{variant:"h6",component:"h1"},t))},de=n(212),me=n(213),fe=n(195),ge=n(214),he=function(e){var t,n,r=e.location,l=[null===r||void 0===r||null===(t=r.coords)||void 0===t?void 0:t.latitude,null===r||void 0===r||null===(n=r.coords)||void 0===n?void 0:n.longitude],o=Object(a.useState)(14),u=Object(y.a)(o,2),s=u[0],d=u[1];return i.a.createElement(a.Fragment,null,r&&i.a.createElement(de.a,{center:l,zoom:s,style:{height:"30vmax"},onViewportChanged:function(e){d(e.zoom)}},i.a.createElement(me.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.a.createElement(fe.a,{position:l},i.a.createElement(ge.a,null,"Deine Position"))),!r&&i.a.createElement("div",{style:{width:"100%",height:"30vmax"}},i.a.createElement(b,null,i.a.createElement(c.a,{variant:"body2"},"GPS-Position ist unbekannt. Bitte erlaube den Standort f\xfcr diese App"))))},ve=function(){var e=Object(a.useState)(null),t=Object(y.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=void 0;return navigator.geolocation&&(e=navigator.geolocation.watchPosition((function(e){i(e)}),(function(){}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})),function(){e&&navigator.geolocation.clearWatch(e)}}),[]),n},pe=n(66),Ee=I("hosting","generate-link"),be=I("hosting","set-username"),ye=I("hosting","set-create-date"),je=I("hosting","set-lat-lng"),Oe=I("hosting","set-option"),ke=(V={},Object(j.a)(V,Ee,(function(e){return Object(M.a)(e,(function(t){var n={name:e.name,expiresAt:e.expiresAt,lat:e.latitude,lng:e.longitude,assist:{tendency:e[Se.TENDENCY],dyndist:e[Se.DYNAMIC_DISTANCE],nodist:e[Se.NO_DISTANCE],vbar:e[Se.USE_VBAR]}},a=pe.Base64.encodeURI(JSON.stringify(n));t.link=window.origin+"/sightme/join/"+a}))})),Object(j.a)(V,be,(function(e,t){return Object(M.a)(e,(function(e){e.name=t}))})),Object(j.a)(V,ye,(function(e,t){return Object(M.a)(e,(function(e){e.expiresAt=t}))})),Object(j.a)(V,je,(function(e,t){var n=t.lat,a=t.lng;return Object(M.a)(e,(function(e){e.latitude=n,e.longitude=a}))})),Object(j.a)(V,Oe,(function(e,t){var n=t.option,a=t.enable;return Object(M.a)(e,(function(e){e[n]=a}))})),V),Se={TENDENCY:"assist-tendency",DYNAMIC_DISTANCE:"assist-dyndist",NO_DISTANCE:"assist-nodist",USE_VBAR:"assist-use-vbar"},we=function(e,t){return C.dispatch({type:Oe,payload:{option:e,enable:t}})},xe=(Y={},Object(j.a)(Y,Se.TENDENCY,!0),Object(j.a)(Y,Se.DYNAMIC_DISTANCE,!1),Object(j.a)(Y,Se.NO_DISTANCE,!1),Object(j.a)(Y,Se.USE_VBAR,!1),Y);C.injectReducer("hosting",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return ke[n]?ke[n](e,a):e}));var Ne,De=function(e){return Te()[e]},Ce=function(){return Te()},Te=function(){var e=Object(a.useState)(B("hosting")),t=Object(y.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){return z("hosting",i)}),[i]),n},Ae=Object(d.a)((function(){return{titlePadding:{paddingTop:"0.5em",paddingBottom:"0.5em"}}})),Be=function(e){var t=e.standard,n=e.colored,a=Ae();return n?i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(u,{variant:"subtitle2",component:"h1",standard:t,colored:n})):i.a.createElement(s.a,{className:a.titlePadding},i.a.createElement(c.a,{variant:"subtitle2",component:"h1"},t))},ze=function(){Object(o.useTitle)("Spiel hosten | SightMe");var e=ve();return i.a.createElement(a.Fragment,null,i.a.createElement(ce,{href:"/"}),i.a.createElement(Z,null,i.a.createElement(se,{standard:"Ein Spiel hosten"}),i.a.createElement(Be,{standard:"Dein Standort"}),i.a.createElement(he,{location:e}),i.a.createElement(h,null),i.a.createElement(b,null,i.a.createElement(v.a,{disabled:!e,onClick:function(){var t,n,a;t=e.coords.latitude,n=e.coords.longitude,C.dispatch({type:je,payload:{lat:t,lng:n}}),a=R()().add(1,"days").utc().format(),C.dispatch({type:ye,payload:a}),p("/host/enter-name")}},"Spiel hier erstellen"),!e&&i.a.createElement(a.Fragment,null,i.a.createElement(h,null),i.a.createElement(g,null,"Bitte erlaube den Standort f\xfcr diese App")))))},Ie=Object(d.a)((function(){return{buttonBox:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginBottom:"8px","& > :not(:first-child)":{marginTop:"6px"}}}})),Me=function(e){var t=Ie();return i.a.createElement(Z,{style:e.style,className:q()(e.className,t.buttonBox)},e.children)},Le=function(e){var t,n,r,l,u,s,d,m,f,y,j,O,k=e.gameBase64,S=void 0;try{S=JSON.parse(pe.Base64.decode(k))}catch(A){}Object(o.useTitle)("".concat(null===(t=S)||void 0===t?void 0:t.name," beitreten | SightMe"));var w,x,N=R()(null===(n=S)||void 0===n?void 0:n.expiresAt).diff(R()(),"hours"),D=R()().isBefore(R()(null===(r=S)||void 0===r?void 0:r.expiresAt)),T=[];((null===(l=S)||void 0===l||null===(u=l.assist)||void 0===u?void 0:u.tendency)||T.push("Keine Richtungs-Tendenz verf\xfcgbar f\xfcr dieses Spiel"),null===(s=S)||void 0===s||null===(d=s.assist)||void 0===d?void 0:d.dyndist)&&((null===(w=S)||void 0===w||null===(x=w.assist)||void 0===x?void 0:x.nodist)?T.push("Spiel mit dynamischer Distanz"):T.push("Spiel mit dynamischer Distanz \u2014 Du siehst trotzdem die Distanz zum Host"));return(null===(m=S)||void 0===m||null===(f=m.assist)||void 0===f?void 0:f.nodist)&&T.push("Keine Distanz-Anzeige \u2014 Du siehst nicht die absolute Distanz zum Host"),(null===(y=S)||void 0===y||null===(j=y.assist)||void 0===j?void 0:j.vbar)&&T.push("Dir wird ein vertikaler, sich f\xfcllender Balken angezeigt anstatt des blinkenden Kreises"),i.a.createElement(X,null,i.a.createElement(ce,{href:"/"}),i.a.createElement(Q,null,i.a.createElement(se,{standard:"Einem Spiel beitreten"}),i.a.createElement(h,{factor:2}),i.a.createElement(b,null,S&&i.a.createElement(a.Fragment,null,i.a.createElement(c.a,{variant:"h4"},"Host: ",null===(O=S)||void 0===O?void 0:O.name),i.a.createElement("br",null),D&&i.a.createElement(c.a,{variant:"body1"},"g\xfcltig f\xfcr die n\xe4chsten ",N," Stunde(n)"),!D&&i.a.createElement(c.a,{variant:"body1"},"Das Spiel ist bereit abgelaufen, du kannst ihm nicht mehr beitreten."),i.a.createElement(h,{factor:2}),T.map((function(e){return i.a.createElement(a.Fragment,{key:e},i.a.createElement(g,null,e),i.a.createElement(h,{factor:.5}))}))),!S&&i.a.createElement(c.a,{variant:"h5"},"Im Link befindet sich kein g\xfcltiges Spiel. Bitte deinen Spielleiter, dir den Link noch einmal zu schicken."))),i.a.createElement(Me,null,i.a.createElement(v.a,{onClick:function(){var e;!function(e){C.dispatch({type:P,payload:e})}(S),(null===(e=S.assist)||void 0===e?void 0:e.dyndist)?p("/join/".concat(k,"/confirm-position")):p("/play")},disabled:!S||!D},"Spiel beitreten"),i.a.createElement(E,{href:"/",variant:"text",color:"inherit"},"Abbrechen")))},Re=n(209),Pe=n(196),_e=n(197),Fe=function(e){var t=e.open,n=e.text,a=e.onYes,r=e.onNo;return i.a.createElement(Re.a,{open:t,onClose:r},i.a.createElement(Pe.a,null,i.a.createElement(b,null,i.a.createElement(c.a,{variant:"body1"},n))),i.a.createElement(_e.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"baseline",paddingBottom:"16px"}},i.a.createElement(v.a,{variant:"text",color:"inherit",onClick:r},"Nein"),i.a.createElement(v.a,{onClick:a},"Ja")))},He=n(46),We=I("dialogs","show"),Ve=I("dialogs","hide"),Ye=I("dialogs","setInfo"),Ue=(Ne={},Object(j.a)(Ne,We,(function(e,t){return Object(M.a)(e,(function(n){n[t]=Object(He.a)(Object(He.a)({},e[t]),{},{show:!0})}))})),Object(j.a)(Ne,Ve,(function(e,t){return Object(M.a)(e,(function(n){n[t]=Object(He.a)(Object(He.a)({},e[t]),{},{show:!1})}))})),Object(j.a)(Ne,Ye,(function(e,t){var n=t.dialogName,a=t.info;return Object(M.a)(e,(function(t){var i;t[n]=Object(He.a)(Object(He.a)({},a),{},{show:null===(i=e[n])||void 0===i?void 0:i.show})}))})),Ne),Ke=function(e){var t;(null===(t=B("dialogs")[e])||void 0===t?void 0:t.show)&&C.dispatch({type:Ve,payload:e})};C.injectReducer("dialogs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Ue[n]?Ue[n](e,a):e}));var qe,Je=n(98),Ze=n.n(Je),Ge=.15,Xe=5,$e=4e3,Qe=Math.log(Ge/Xe)/$e,et=function(){var e=ve(),t=U();if(e&&t){var n,a=Ze()({latitude:e.coords.latitude,longitude:e.coords.longitude},{latitude:t.lat,longitude:t.lng},1),i=(null===(n=t.assist)||void 0===n?void 0:n.dyndist)&&t.initialDistance?Math.log(Ge/Xe)/(1.8*t.initialDistance):Qe,r=Xe*Math.pow(Math.E,i*a);return{distance:a,frequency:r>.05?r:.05,fmax:Xe}}return{distance:-1,frequency:-1,fmax:Xe}},tt=n(198),nt=n(199),at=Object(d.a)((function(){return{alignInLine:{verticalAlign:"middle"}}})),it=function(e){var t,n=e.game,a=e.tendency,r=at();if(null===n||void 0===n||null===(t=n.assist)||void 0===t?void 0:t.tendency){if("up"===a)return i.a.createElement(tt.a,{className:r.alignInLine});if("down"===a)return i.a.createElement(nt.a,{className:r.alignInLine})}return""},rt=function(e){var t,n=e.game,a=e.distance;return(null===(t=n.assist)||void 0===t?void 0:t.nodist)?"":"Distanz "+(a<50?"< 50 m":a<500?"< 500 m":"~ "+.5*Math.round(.002*a)+" km")+" "},lt=function(e){var t=e.enable,n=e.frequency,a=e.handleIteration;return i.a.createElement(s.a,{style:{width:"100%",paddingTop:"100%",position:"relative"}},i.a.createElement(s.a,{style:{position:"absolute",top:0,left:0,bottom:0,right:0,animation:t?"ripple ".concat(1/n,"s ease-out infinite"):"none"},className:"ripple",onAnimationIteration:a}))},ot=function(e){return U()?e.children:i.a.createElement(Z,null,i.a.createElement(h,{factor:2.5}),i.a.createElement(b,null,i.a.createElement(c.a,{variant:"h5"},"Es wurde kein aktives Spiel gefunden. Bitte trete erst einem Spiel bei.")))},ct=Object(d.a)((function(e){return{container:{margin:"auto",border:"2px solid black",borderRadius:"100vh",padding:"8px",height:"50vh",width:"20vw"},mask:{height:"100%",borderRadius:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"flex-end"},element:{backgroundColor:e.palette.secondary.main,borderRadius:"1em",width:"100%"}}})),ut=function(e){var t=e.percentage,n=e.style,a=e.className,r=ct();return i.a.createElement(s.a,{style:n,className:q()(r.container,a)},i.a.createElement(s.a,{className:r.mask},i.a.createElement(s.a,{style:{height:"".concat(100*t,"%")},className:r.element})))},st=function(){var e,t,n=U(),r=et(),l=r.distance,u=r.frequency,s=r.fmax,d=function(e){var t=Object(a.useState)(B("dialogs")),n=Object(y.a)(t,2),i=n[0],r=n[1];return Object(a.useLayoutEffect)((function(){return z("dialogs",r)}),[r]),i[e]}("confirm-leave-dialog");Object(o.useTitle)("Finde ".concat(null===n||void 0===n?void 0:n.name," | SightMe"));var m=Object(a.useState)(!0),f=Object(y.a)(m,2),g=f[0],p=f[1],E=Object(a.useState)(.8),j=Object(y.a)(E,2),O=j[0],k=j[1],S=Object(a.useState)(2500),w=Object(y.a)(S,2),x=w[0],N=w[1],D=Object(a.useState)(null),T=Object(y.a)(D,2),A=T[0],I=T[1];x!==l&&(I(l<x?"up":"down"),N(l));return Object(a.useLayoutEffect)((function(){return function(){Ke("confirm-leave-dialog")}}),[]),i.a.createElement(X,null,i.a.createElement(ce,{href:"/"}),i.a.createElement(ot,null,i.a.createElement(Q,null,i.a.createElement(se,{standard:"Finde ",colored:null===n||void 0===n?void 0:n.name}),i.a.createElement(h,null),i.a.createElement(b,null,(null===n||void 0===n?void 0:n.assist)&&(null===n||void 0===n||null===(e=n.assist)||void 0===e?void 0:e.vbar)&&i.a.createElement(ut,{percentage:u/s}),(null===n||void 0===n?void 0:n.assist)&&!(null===n||void 0===n||null===(t=n.assist)||void 0===t?void 0:t.vbar)&&i.a.createElement(lt,{enable:g,frequency:O,handleIteration:function(){O!==u&&(k(u),p(!1),setTimeout((function(){p(!0)}),10))}}),i.a.createElement(h,null),i.a.createElement(c.a,{variant:"body1"},i.a.createElement(rt,{game:n,distance:x}),i.a.createElement(it,{game:n,tendency:A})))),i.a.createElement(Me,{style:{marginBottom:"24px"}},i.a.createElement(v.a,{onClick:function(){setTimeout((function(){return e="confirm-leave-dialog",C.dispatch({type:We,payload:e});var e}),250)}},"Spiel verlassen")),i.a.createElement(Fe,{open:(null===d||void 0===d?void 0:d.show)||!1,title:"Spiel verlassen",text:"M\xf6chtest du das Spiel wirklich verlassen?",onNo:function(){return Ke("confirm-leave-dialog")},onYes:function(){W(),Object(o.navigate)("/")}})))},dt=function(){return Object(o.useTitle)("Nicht gefunden | SightMe"),i.a.createElement(Z,null,i.a.createElement(b,null,i.a.createElement(c.a,{variant:"body1"},"Seite nicht gefunden :/")))},mt=n(105),ft=n(101),gt=n.n(ft),ht=n(204),vt=n(102),pt=n.n(vt),Et=n(210),bt=n(100),yt=n.n(bt),jt=n(208);function Ot(e){return i.a.createElement(jt.a,Object.assign({elevation:6,variant:"filled"},e))}var kt=I("message","set"),St=I("message","clear"),wt=(qe={},Object(j.a)(qe,kt,(function(e,t){var n=t.message,a=t.scope;return Object(M.a)(e,(function(e){e[a]=n}))})),Object(j.a)(qe,St,(function(e,t){return Object(M.a)(e,(function(e){e[t]=null}))})),qe),xt={global:null};C.injectReducer("message",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return wt[n]?wt[n](e,a):e}));var Nt=function(e){var t=e.stateName,n=e.useAlert,r=void 0===n||n,l=e.severity,o=void 0===l?"error":l,c=e.actionName,u=void 0===c?"R\xfcckg\xe4ngig":c,s=e.action,d=void 0===s?null:s,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=Object(a.useState)(B("message")),n=Object(y.a)(t,2),i=n[0],r=n[1];return Object(a.useLayoutEffect)((function(){return z("message",r)}),[r]),i[e]}(t),f=m,g=!!m,h=Object(a.useState)(""),p=Object(y.a)(h,2),E=p[0],b=p[1],j=function(e,n){"clickaway"!==n&&g&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";C.dispatch({type:St,payload:e})}(t)},O=null;return r&&(O=i.a.createElement(Ot,{severity:o,onClose:j},E)),Object(a.useLayoutEffect)((function(){f&&b(f)}),[f]),i.a.createElement(Et.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:6e3,message:!r&&E,onClose:j,action:!r&&i.a.createElement(i.a.Fragment,null,d&&i.a.createElement(v.a,{color:"secondary",size:"small",onClick:d},u),i.a.createElement(ie.a,{size:"small","aria-label":"close",color:"inherit",onClick:j},i.a.createElement(yt.a,{fontSize:"small"})))},O)},Dt=Object(d.a)((function(){return{hugeVerticalPadding:{paddingTop:"10vh",paddingBottom:"5vh",paddingLeft:"1em",paddingRight:"1em",textAlign:"center"},hugeVerticalPaddingNoHorizontal:{paddingTop:"10vh",paddingBottom:"5vh",textAlign:"center"}}})),Ct=function(e){var t=e.children,n=e.noHorizontalPadding,a=Dt();return i.a.createElement(s.a,{className:n?a.hugeVerticalPaddingNoHorizontal:a.hugeVerticalPadding},t)},Tt=n(201),At=function(e){return i.a.createElement(Tt.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),p(e.href)}}))},Bt=n(202),zt=Object(d.a)((function(){return{container:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"flex-start"},link:{overflowWrap:"anywhere",wordBreak:"break-all",flexGrow:1},shareIconBox:{margin:"0px 16px"}}})),It=function(){Object(o.useTitle)("Link zum Spiel teilen | SightMe");var e=zt(),t=Te().link;return i.a.createElement(a.Fragment,null,i.a.createElement(ce,{href:"/"}),i.a.createElement(Z,null,t&&i.a.createElement(a.Fragment,null,i.a.createElement(Ct,null,i.a.createElement(c.a,{variant:"h4",component:"h1"},"Spiel erstellt!")),i.a.createElement(b,null,i.a.createElement(g,null,"Das Spiel ist jetzt f\xfcr 24 Stunden g\xfcltig. Teile den Link, damit deine Freunde deinem Spiel beitreten k\xf6nnen.")),i.a.createElement(h,{factor:2}),i.a.createElement(Be,{standard:"Link zum Teilen"}),i.a.createElement(At,{href:t,color:"inherit",className:e.link},t),i.a.createElement(h,null),i.a.createElement(b,null,i.a.createElement(v.a,{onClick:function(){navigator.share?navigator.share({url:t}):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";C.dispatch({type:kt,payload:{message:e,scope:t}})}("Dein Browser unterst\xfctzt das Teilen von Links nicht. Bitte kopiere den Link und verschicke ihn manuell.")}},i.a.createElement(Bt.a,{style:{marginLeft:"-6px",marginRight:"16px"}}),"Teilen"))),!t&&i.a.createElement(Ct,null,i.a.createElement(c.a,{variant:"h4",component:"h1"},"Bitte erstelle zuerst ein Spiel."))))},Mt=n(203),Lt=Object(d.a)((function(){return{bottom:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},link:{verticalAlign:"top"}}})),Rt=function(){Object(o.useTitle)("\xdcber | SightMe");var e=Lt();return i.a.createElement(X,null,i.a.createElement(ce,{href:"/"}),i.a.createElement(Q,null,i.a.createElement(se,{standard:"\xdcber ",colored:"SightMe"}),i.a.createElement(c.a,{variant:"body1"},'SightMe ist durch die Idee eines Freundes entstanden. Sein Vater und ein paar Freunde von ihm haben fr\xfcher ein Spiel gespielt, bei dem sich einer in der Stadt mit seinem Auto "versteckt". Derjenige hat dann sein CB-Funkger\xe4t angeschaltet und die anderen mussten ihn dann Anhand der Signalst\xe4rke von ihm finden. Aus dem Spiel wurde die Idee f\xfcr eine App, und sp\xe4ter dann diese App.'),i.a.createElement(h,null),i.a.createElement(Be,{standard:"Funktionsweise"}),i.a.createElement(c.a,{variant:"body1"},"Wenn der Spielleiter ein Spiel erstellt, werden alle ben\xf6tigten Spieldaten in einem Link mittels Base64 zusammengefasst. Wenn die anderen Teilnehmer diesen Link \xf6ffnen, wird anhand der Distanz zum Ziel das blinken des Kreises berechnet."),i.a.createElement(h,null),i.a.createElement(Be,{standard:"Links"}),i.a.createElement(c.a,{variant:"body1"},i.a.createElement(Mt.a,null)," ",i.a.createElement(Tt.a,{href:"https://github.com/Lennart401/sightme",target:"_blank",className:e.link},"github.com/Lennart401/sightme"))),i.a.createElement(Z,null,i.a.createElement(b,{className:e.bottom},i.a.createElement(c.a,{variant:"body2"},"Version ","1.2.0"),i.a.createElement(c.a,{variant:"body2"},"\xa9 2020 Lennart Popkes"))))},Pt=n(205),_t=function(e,t){var n=Object(a.useState)(""),r=Object(y.a)(n,2),l=r[0],o=r[1],c=Object(a.useState)(""),u=Object(y.a)(c,2),s=u[0],d=u[1];return{validate:function(){return 0===l.length&&d("Eingabe darf nicht leer sein!"),l.length>0&&l.length<=t},text:l,component:i.a.createElement(Pt.a,Object.assign({},e,{value:l,error:s.length>0,helperText:s,onChange:function(e){var n=e.target.value;n.length>t?d("Eingabe ist zu lang!"):d(""),o(n)}}))}},Ft=function(){Object(o.useTitle)("Spiel hosten | SightMe");var e=_t({placeholder:"Dein Name"},20),t=e.validate,n=e.text,r=e.component,l=Ce();Object(a.useEffect)((function(){l.latitude&&l.longitude||Object(o.navigate)("/host")}),[l]);return i.a.createElement(X,null,i.a.createElement(ce,{href:"/host"}),i.a.createElement(Q,null,i.a.createElement(Ct,{noHorizontalPadding:!0},i.a.createElement(c.a,{variant:"h4",component:"h1"},"Bitte gib deinen Namen ein.")),i.a.createElement(b,null,i.a.createElement(g,null,"Damit wissen die Teilnehmer, dass sie wirklich deinem Spiel beitreten."),i.a.createElement(h,null),r)),i.a.createElement(Me,null,i.a.createElement(v.a,{onClick:function(){var e;t()&&(e=n,C.dispatch({type:be,payload:e}),p("game-options"))}},"Weiter"),i.a.createElement(E,{variant:"text",color:"inherit",href:"/host"},"Zur\xfcck")))},Ht=n(211),Wt=Object(d.a)((function(){return{wrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),Vt=function(e){var t=e.label,n=e.control,a=Wt();return i.a.createElement(s.a,{className:a.wrapper},i.a.createElement(c.a,{variant:"body1"},t),n)},Yt=function(){Object(o.useTitle)("Spiel hosten | SightMe");var e=De(Se.TENDENCY),t=De(Se.DYNAMIC_DISTANCE),n=De(Se.NO_DISTANCE),r=De(Se.USE_VBAR),l=Ce();Object(a.useEffect)((function(){l.latitude&&l.longitude||Object(o.navigate)("/host"),l.name||Object(o.navigate)("/host/enter-name")}),[l]);return i.a.createElement(X,null,i.a.createElement(ce,{href:"enter-name"}),i.a.createElement(Q,null,i.a.createElement(Ct,{noHorizontalPadding:!0},i.a.createElement(c.a,{variant:"h4",component:"h1"},"Spieloptionen")),i.a.createElement(Vt,{label:"Richtungs-Tendenz anzeigen",control:i.a.createElement(Ht.a,{checked:e,onChange:function(e){return we(Se.TENDENCY,e.target.checked)}})}),i.a.createElement(g,null,"Zeige den Teilnehmern an, ob sie auf dich zu oder von dir weg laufen."),i.a.createElement(h,null),i.a.createElement(Vt,{label:"Dynamisch Distanz verwenden",control:i.a.createElement(Ht.a,{checked:t,onChange:function(e){return we(Se.DYNAMIC_DISTANCE,e.target.checked)}})}),i.a.createElement(g,null,'Wenn eingeschaltet, wird der blinkende Kreis beim Beitreten des Spiels dynamisch berechnet. Sinnvoll zusammen mit "Distanz ausblenden", wenn man nicht weit von den Teilnehmern entfernt ist.'),i.a.createElement(h,null),i.a.createElement(Vt,{label:"Distanz ausblenden",control:i.a.createElement(Ht.a,{checked:n,onChange:function(e){return we(Se.NO_DISTANCE,e.target.checked)}})}),i.a.createElement(g,null,"Den Teilnehmern nicht die Distanz zu dir anzeigen."),i.a.createElement(h,null),i.a.createElement(Vt,{label:"Vertikalen Balken verwenden",control:i.a.createElement(Ht.a,{checked:r,onChange:function(e){return we(Se.USE_VBAR,e.target.checked)}})}),i.a.createElement(g,null,"Statt des blinkenden Kreises einen vertikale, sich f\xfcllenden Balken verwenden.")),i.a.createElement(Me,null,i.a.createElement(v.a,{onClick:function(){C.dispatch({type:Ee,payload:{}}),p("/share",!0)}},"Weiter"),i.a.createElement(E,{variant:"text",color:"inherit",href:"enter-name"},"Zur\xfcck")))},Ut=function(e){var t=e.gameBase64,n=ve(),a=et().distance;return i.a.createElement(X,null,i.a.createElement(ce,{href:"/join/".concat(t)}),i.a.createElement(ot,null,i.a.createElement(Q,null,i.a.createElement(Ct,null,i.a.createElement(c.a,{variant:"h4",component:"h1"},"Bitte best\xe4tige deine Position.")),i.a.createElement(b,null,i.a.createElement(g,null,"Der Host hat festgelegt, dass dieses Spiel mit dynamischer Distanz gespielt wird. Bitte best\xe4tige, dass du wirklich dort bist, wo du auf der Karte angezeigt wirst, damit wir den blinkenden Kreis richtig berechnen k\xf6nnen.")),i.a.createElement(h,null),i.a.createElement(he,{location:n})),i.a.createElement(Me,null,i.a.createElement(v.a,{onClick:function(){var e;e=a,C.dispatch({type:F,payload:e}),p("/play")}},"Position best\xe4tigen"),i.a.createElement(E,{href:"/join/".concat(t),variant:"text",color:"inherit"},"Zur\xfcck"))))},Kt=Object(mt.a)({palette:{primary:gt.a,secondary:pt.a},overrides:{MuiButton:{root:{borderRadius:"5em"},label:{paddingLeft:"1em",paddingRight:"1em",paddingTop:"0.3em",paddingBottom:"0.3em"}},MuiIconButton:{root:{color:"#000"}},MuiOutlinedInput:{root:{borderRadius:"5em"},input:{padding:"16px 24px"}},MuiDialogActions:{root:{flexDirection:"column","& > :not(:first-child)":{marginTop:"6px"}}},MuiSnackbarContent:{root:{flexWrap:"nowrap"}},MuiSwitch:{root:{width:"48px"},switchBase:{"&$checked":{transform:"translateX(10px)"}}}},props:{MuiButton:{color:"secondary",variant:"contained"},MuiTextField:{variant:"outlined",fullWidth:!0},MuiDialogActions:{disableSpacing:!0}}}),qt={"/":function(){return i.a.createElement(te,null)},"/host":function(){return i.a.createElement(ze,null)},"/host/enter-name":function(){return i.a.createElement(Ft,null)},"/host/game-options":function(){return i.a.createElement(Yt,null)},"/share":function(){return i.a.createElement(It,null)},"/join/:game":function(e){var t=e.game;return i.a.createElement(Le,{gameBase64:t})},"/join/:game/confirm-position":function(e){var t=e.game;return i.a.createElement(Ut,{gameBase64:t})},"/play":function(){return i.a.createElement(st,null)},"/about":function(){return i.a.createElement(Rt,null)}},Jt=function(){var e=Object(o.useRoutes)(qt);return i.a.createElement(ht.a,{theme:Kt},i.a.createElement(Nt,{stateName:"global",useAlert:!1}),e||i.a.createElement(dt,null))},Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Xt=n(104),$t=n(103);Object(o.setBasepath)("/sightme"),R()().locale("de"),l.a.render(i.a.createElement(Xt.a,{store:C},i.a.createElement($t.a,{loading:null,persistor:T},i.a.createElement(Jt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sightme",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sightme","/service-worker.js");Zt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Gt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Gt(t,e)}))}}()}},[[119,1,2]]]);
//# sourceMappingURL=main.737df663.chunk.js.map